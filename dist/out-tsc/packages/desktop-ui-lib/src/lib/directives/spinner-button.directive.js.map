{"version":3,"file":"spinner-button.directive.js","sourceRoot":"","sources":["../../../../../../../packages/desktop-ui-lib/src/lib/directives/spinner-button.directive.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n\tComponentFactoryResolver,\r\n\tDirective,\r\n\tInput,\r\n\tRenderer2,\r\n\tTemplateRef,\r\n\tViewContainerRef,\r\n} from '@angular/core';\r\nimport { NbSpinnerComponent } from '@nebular/theme';\r\n\r\n@Directive({\r\n\tselector: '[gauzySpinnerButton]',\r\n})\r\nexport class SpinnerButtonDirective {\r\n\tprivate _isSpinning = null;\r\n\tprivate _spinner: HTMLElement;\r\n\r\n\tconstructor(\r\n\t\tprivate _componentFactoryResolver: ComponentFactoryResolver,\r\n\t\tprivate _templateRef: TemplateRef<any>,\r\n\t\tprivate _viewContainer: ViewContainerRef,\r\n\t\tprivate _render: Renderer2\r\n\t) {\r\n\t\tthis._spinner = null;\r\n\t}\r\n\r\n\t@Input('gauzySpinnerButton')\r\n\tset show(value: boolean) {\r\n\t\tif (!!value !== this._isSpinning) {\r\n\t\t\tthis._viewContainer.clear();\r\n\t\t\tthis._isSpinning = value;\r\n\t\t\tif (!value) {\r\n\t\t\t\tthis._viewContainer.createEmbeddedView(this._templateRef);\r\n\t\t\t\tif (this._spinner) {\r\n\t\t\t\t\tthis._render.setStyle(this._spinner.parentElement, 'gap', '0px');\r\n\t\t\t\t}\r\n\t\t\t} else if (value) {\r\n\t\t\t\tthis._addSpinner();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _addSpinner() {\r\n\t\tconst componentFactory =\r\n\t\t\tthis._componentFactoryResolver.resolveComponentFactory(\r\n\t\t\t\tNbSpinnerComponent\r\n\t\t\t);\r\n\t\tconst container =\r\n\t\t\tthis._viewContainer.createComponent<NbSpinnerComponent>(\r\n\t\t\t\tcomponentFactory\r\n\t\t\t);\r\n\r\n\t\tcontainer.instance.size = 'small';\r\n\t\tcontainer.instance.message = '';\r\n\r\n\t\tconst spinner = container.location.nativeElement as HTMLElement;\r\n\t\tthis._render.setStyle(spinner, 'background', 'unset');\r\n\t\tthis._render.setStyle(spinner, 'position', 'relative');\r\n\r\n\t\tthis._render.setStyle(\r\n\t\t\tspinner.firstChild,\r\n\t\t\t'border-top-color',\r\n\t\t\t'inherit'\r\n\t\t);\r\n\t\tthis._render.setStyle(\r\n\t\t\tspinner.firstChild,\r\n\t\t\t'border-bottom-color',\r\n\t\t\t'inherit'\r\n\t\t);\r\n\t\tthis._render.setStyle(\r\n\t\t\tspinner.firstChild,\r\n\t\t\t'border-left-color',\r\n\t\t\t'inherit'\r\n\t\t);\r\n\r\n\t\tthis._render.setStyle(\r\n\t\t\tspinner.firstChild,\r\n\t\t\t'width',\r\n\t\t\t'14px'\r\n\t\t);\r\n\r\n\t\tthis._render.setStyle(\r\n\t\t\tspinner.firstChild,\r\n\t\t\t'height',\r\n\t\t\t'14px'\r\n\t\t);\r\n\r\n\t\tthis._render.setStyle(spinner.parentElement, 'display', 'flex');\r\n\t\tthis._render.setStyle(spinner.parentElement, 'gap', '0.5rem');\r\n\r\n\t\tthis._spinner = spinner;\r\n\t}\r\n}\r\n"]}