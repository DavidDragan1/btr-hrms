{"version":3,"file":"splash-screen.component.js","sourceRoot":"","sources":["../../../../../../../packages/desktop-ui-lib/src/lib/splash-screen/splash-screen.component.ts"],"names":[],"mappings":";;;;AAAA,wCAA0D;AAC1D,gEAAyD;AACzD,+BAAiC;AACjC,yDAAqE;AACrE,8CAAuD;AAEvD,mDAAuD;AACvD,qFAAgF;AAChF,4CAAyC;AAQlC,IAAM,qBAAqB,mCAA3B,MAAM,qBAAqB;IAOjC,YACkB,gBAAiC,EACjC,wBAAiD,EACjD,iBAAmC,EAEpD,YAAkC,EACjB,aAA2B;QAL3B,qBAAgB,GAAhB,gBAAgB,CAAiB;QACjC,6BAAwB,GAAxB,wBAAwB,CAAyB;QACjD,sBAAiB,GAAjB,iBAAiB,CAAkB;QAEnC,iBAAY,GAAZ,YAAY,CAAK;QACjB,kBAAa,GAAb,aAAa,CAAc;QAZrC,iBAAY,GAAG;YACtB,IAAI,EAAE,WAAW;YACjB,OAAO,EAAE,KAAK;YACd,QAAQ,EAAE,IAAI;SACd,CAAC;QAUD,IAAI,CAAC,YAAY,GAAG;YACnB,IAAI,EAAE,gBAAgB,CAAC,MAAM,CAAC,GAAG;iBAC/B,OAAO,EAAE;iBACT,KAAK,CAAC,GAAG,CAAC;iBACV,IAAI,CAAC,GAAG,CAAC;iBACT,OAAO,CAAC,sBAAsB,EAAE,CAAC,MAAM,EAAE,EAAE,CAC3C,MAAM,CAAC,WAAW,EAAE,CACpB;YACF,OAAO,EAAE,gBAAgB,CAAC,MAAM,CAAC,GAAG,CAAC,UAAU,EAAE;YACjD,QAAQ,EAAE,IAAI,CAAC,aAAa,CAAC,8BAA8B,CAC1D,IAAI,CAAC,YAAY,CAAC,aAAa,CAC/B;SACD,CAAC;IACH,CAAC;IAED,QAAQ;QACP,IAAA,WAAI,EAAC,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;aAClE,IAAI,CACJ,IAAA,UAAG,EAAC,CAAC,QAAuB,EAAE,EAAE;YAC/B,IAAI,CAAC,wBAAwB,CAAC,WAAW,CACxC,QAAQ,EACR,IAAI,CAAC,iBAAiB,CACtB,CAAC;QACH,CAAC,CAAC,EACF,IAAA,8BAAc,EAAC,IAAI,CAAC,CACpB;aACA,SAAS,EAAE,CAAC;IACf,CAAC;IAED,IAAW,WAAW;QACrB,OAAO,IAAI,CAAC,YAAY,CAAC;IAC1B,CAAC;CACD,CAAA;gCA/CY,qBAAqB;IANjC,IAAA,4BAAY,EAAC,EAAE,eAAe,EAAE,IAAI,EAAE,CAAC;IACvC,IAAA,gBAAS,EAAC;QACV,QAAQ,EAAE,mBAAmB;QAC7B,WAAW,EAAE,gCAAgC;QAC7C,SAAS,EAAE,CAAC,gCAAgC,CAAC;KAC7C,CAAC;IAYC,mBAAA,IAAA,aAAM,EAAC,qBAAS,CAAC,CAAA;6CAHiB,0BAAe;QACP,mDAAuB;QAC9B,uBAAgB,UAGpB,+BAAY;GAbjC,qBAAqB,CA+CjC","sourcesContent":["import { Component, Inject, OnInit } from '@angular/core';\r\nimport { DomSanitizer } from \"@angular/platform-browser\";\r\nimport { from, tap } from 'rxjs';\r\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { LanguagesEnum } from '@gauzy/contracts';\r\nimport { ElectronService } from '../electron/services';\r\nimport { LanguageSelectorService } from '../language/language-selector.service';\r\nimport { GAUZY_ENV } from \"../constants\";\r\n\r\n@UntilDestroy({ checkProperties: true })\r\n@Component({\r\n\tselector: 'ngx-splash-screen',\r\n\ttemplateUrl: './splash-screen.component.html',\r\n\tstyleUrls: ['./splash-screen.component.scss'],\r\n})\r\nexport class SplashScreenComponent implements OnInit {\r\n\tprivate _application = {\r\n\t\tname: 'gauzy-dev',\r\n\t\tversion: 'dev',\r\n\t\ticonPath: null\r\n\t};\r\n\r\n\tconstructor(\r\n\t\tprivate readonly _electronService: ElectronService,\r\n\t\tprivate readonly _languageSelectorService: LanguageSelectorService,\r\n\t\tprivate readonly _translateService: TranslateService,\r\n\t\t@Inject(GAUZY_ENV)\r\n\t\tprivate readonly _environment: any,\r\n\t\tprivate readonly _domSanitizer: DomSanitizer\r\n\t) {\r\n\t\tthis._application = {\r\n\t\t\tname: _electronService.remote.app\r\n\t\t\t\t.getName()\r\n\t\t\t\t.split('-')\r\n\t\t\t\t.join(' ')\r\n\t\t\t\t.replace(/(^\\w{1})|(\\s+\\w{1})/g, (letter) =>\r\n\t\t\t\t\tletter.toUpperCase()\r\n\t\t\t\t),\r\n\t\t\tversion: _electronService.remote.app.getVersion(),\r\n\t\t\ticonPath: this._domSanitizer.bypassSecurityTrustResourceUrl(\r\n\t\t\t\tthis._environment.PLATFORM_LOGO\r\n\t\t\t),\r\n\t\t};\r\n\t}\r\n\r\n\tngOnInit(): void {\r\n\t\tfrom(this._electronService.ipcRenderer.invoke('PREFERRED_LANGUAGE'))\r\n\t\t\t.pipe(\r\n\t\t\t\ttap((language: LanguagesEnum) => {\r\n\t\t\t\t\tthis._languageSelectorService.setLanguage(\r\n\t\t\t\t\t\tlanguage,\r\n\t\t\t\t\t\tthis._translateService\r\n\t\t\t\t\t);\r\n\t\t\t\t}),\r\n\t\t\t\tuntilDestroyed(this)\r\n\t\t\t)\r\n\t\t\t.subscribe();\r\n\t}\r\n\r\n\tpublic get application() {\r\n\t\treturn this._application;\r\n\t}\r\n}\r\n"]}