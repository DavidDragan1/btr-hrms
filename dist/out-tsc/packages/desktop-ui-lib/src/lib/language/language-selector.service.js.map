{"version":3,"file":"language-selector.service.js","sourceRoot":"","sources":["../../../../../../../packages/desktop-ui-lib/src/lib/language/language-selector.service.ts"],"names":[],"mappings":";;;;AAAA,wCAA2C;AAC3C,0CAA6E;AAC7E,yDAAqD;AAErD,gDAAiD;AACjD,mDAAuD;AAMhD,IAAM,uBAAuB,qCAA7B,MAAM,uBAAuB;IAEnC,YACkB,iBAA2C,EAC3C,gBAAiC;QADjC,sBAAiB,GAAjB,iBAAiB,CAA0B;QAC3C,qBAAgB,GAAhB,gBAAgB,CAAiB;QAElD,MAAM,MAAM,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC;QAC5D,IAAI,CAAC,WAAW;YACf,MAAM,IAAI,yBAAa,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,yBAAa,CAAC,OAAO,CAAC;IAC3D,CAAC;IAEM,WAAW,CACjB,iBAAgC,EAChC,gBAAkC;QAElC,IACC,iBAAiB,KAAK,yBAAa,CAAC,MAAM;YAC1C,iBAAiB,KAAK,yBAAa,CAAC,MAAM,EACzC;YACD,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,yBAAiB,CAAC,GAAG,CAAC,CAAC;SAC3D;aAAM;YACN,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,yBAAiB,CAAC,GAAG,CAAC,CAAC;SAC3D;QACD,gBAAgB,CAAC,GAAG,CAAC,iBAAiB,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC;IAC7D,CAAC;CACD,CAAA;kCAzBY,uBAAuB;IAJnC,IAAA,4BAAY,EAAC,EAAE,eAAe,EAAE,IAAI,EAAE,CAAC;IACvC,IAAA,iBAAU,EAAC;QACX,UAAU,EAAE,MAAM;KAClB,CAAC;6CAIoC,gCAAwB;QACzB,0BAAe;GAJvC,uBAAuB,CAyBnC","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { NbLayoutDirection, NbLayoutDirectionService } from '@nebular/theme';\r\nimport { UntilDestroy } from '@ngneat/until-destroy';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { LanguagesEnum } from '@gauzy/contracts';\r\nimport { ElectronService } from '../electron/services';\r\n\r\n@UntilDestroy({ checkProperties: true })\r\n@Injectable({\r\n\tprovidedIn: 'root',\r\n})\r\nexport class LanguageSelectorService {\r\n\tprivate _osLanguage: string;\r\n\tconstructor(\r\n\t\tprivate readonly _directionService: NbLayoutDirectionService,\r\n\t\tprivate readonly _electronService: ElectronService\r\n\t) {\r\n\t\tconst locale = this._electronService.remote.app.getLocale();\r\n\t\tthis._osLanguage =\r\n\t\t\tlocale in LanguagesEnum ? locale : LanguagesEnum.ENGLISH;\r\n\t}\r\n\r\n\tpublic setLanguage(\r\n\t\tpreferredLanguage: LanguagesEnum,\r\n\t\ttranslateService: TranslateService\r\n\t): void {\r\n\t\tif (\r\n\t\t\tpreferredLanguage === LanguagesEnum.HEBREW ||\r\n\t\t\tpreferredLanguage === LanguagesEnum.ARABIC\r\n\t\t) {\r\n\t\t\tthis._directionService.setDirection(NbLayoutDirection.RTL);\r\n\t\t} else {\r\n\t\t\tthis._directionService.setDirection(NbLayoutDirection.LTR);\r\n\t\t}\r\n\t\ttranslateService.use(preferredLanguage || this._osLanguage);\r\n\t}\r\n}\r\n"]}