{"version":3,"file":"login.component.js","sourceRoot":"","sources":["../../../../../../../packages/desktop-ui-lib/src/lib/login/login.component.ts"],"names":[],"mappings":";;;;AAAA,wCAMuB;AACvB,4CAAyC;AACzC,wCAIuB;AACvB,8CAAuD;AAEvD,mDAAuD;AACvD,qFAAgF;AAChF,+BAAiC;AACjC,yDAAqE;AACrE,8DAAuD;AACvD,gEAA0E;AAQnE,IAAM,iBAAiB,+BAAvB,MAAM,iBAAkB,SAAQ,uBAAgB;IAGtD,YACiB,eAAgC,EAChC,aAA4B,EACrC,SAA2B,EAClB,GAAsB,EACtB,MAAc,EACtB,wBAAiD,EACjD,OAAe,EAEvB,OAAY,EACK,aAA2B,EAE5C,YAAkC;QAElC,KAAK,CAAC,aAAa,EAAE,OAAO,EAAE,GAAG,EAAE,MAAM,CAAC,CAAC;QAb3B,oBAAe,GAAf,eAAe,CAAiB;QAChC,kBAAa,GAAb,aAAa,CAAe;QACrC,cAAS,GAAT,SAAS,CAAkB;QAClB,QAAG,GAAH,GAAG,CAAmB;QACtB,WAAM,GAAN,MAAM,CAAQ;QACtB,6BAAwB,GAAxB,wBAAwB,CAAyB;QACjD,YAAO,GAAP,OAAO,CAAQ;QAGN,kBAAa,GAAb,aAAa,CAAc;QAE3B,iBAAY,GAAZ,YAAY,CAAK;QAdnC,iBAAY,GAAG,KAAK,CAAC;IAiBrB,CAAC;IAED,QAAQ;QACP,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,EAAE,CAClC,2BAA2B,EAC3B,CAAC,KAAK,EAAE,QAAuB,EAAE,EAAE;YAClC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE;gBACrB,IAAI,CAAC,wBAAwB,CAAC,WAAW,CACxC,QAAQ,EACR,IAAI,CAAC,SAAS,CACd,CAAC;YACH,CAAC,CAAC,CAAC;QACJ,CAAC,CACD,CAAC;QACF,IAAA,WAAI,EAAC,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;aACjE,IAAI,CACJ,IAAA,UAAG,EAAC,CAAC,QAAQ,EAAE,EAAE;YAChB,IAAI,CAAC,wBAAwB,CAAC,WAAW,CACxC,QAAQ,EACR,IAAI,CAAC,SAAS,CACd,CAAC;QACH,CAAC,CAAC,EACF,IAAA,8BAAc,EAAC,IAAI,CAAC,CACpB;aACA,SAAS,EAAE,CAAC;IACf,CAAC;IAEM,MAAM;QACZ,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,YAAY,CACtC,8CAA8C,CAC9C,CAAC;IACH,CAAC;IAEM,QAAQ;QACd,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,YAAY,CACtC,sCAAsC,CACtC,CAAC;IACH,CAAC;IAED,IAAW,OAAO;QACjB,OAAO,IAAI,CAAC,aAAa,CAAC,8BAA8B,CACvD,IAAI,CAAC,YAAY,CAAC,aAAa,CAC/B,CAAC;IACH,CAAC;CACD,CAAA;4BA9DY,iBAAiB;IAN7B,IAAA,4BAAY,EAAC,EAAE,eAAe,EAAE,IAAI,EAAE,CAAC;IACvC,IAAA,gBAAS,EAAC;QACV,QAAQ,EAAE,yBAAyB;QACnC,WAAW,EAAE,wBAAwB;QACrC,SAAS,EAAE,CAAC,wBAAwB,CAAC;KACrC,CAAC;IAYC,mBAAA,IAAA,aAAM,EAAC,sBAAe,CAAC,CAAA;IAGvB,mBAAA,IAAA,aAAM,EAAC,yBAAS,CAAC,CAAA;6CAVe,0BAAe;QACjB,oBAAa;QAC1B,uBAAgB;QACb,wBAAiB;QACd,eAAM;QACI,mDAAuB;QACxC,aAAM,UAGS,+BAAY;GAbjC,iBAAiB,CA8D7B","sourcesContent":["import {\r\n\tChangeDetectorRef,\r\n\tComponent,\r\n\tInject,\r\n\tNgZone,\r\n\tOnInit,\r\n} from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport {\r\n\tNbAuthService,\r\n\tNbLoginComponent,\r\n\tNB_AUTH_OPTIONS,\r\n} from '@nebular/auth';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { LanguagesEnum } from '@gauzy/contracts';\r\nimport { ElectronService } from '../electron/services';\r\nimport { LanguageSelectorService } from '../language/language-selector.service';\r\nimport { from, tap } from 'rxjs';\r\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\r\nimport { GAUZY_ENV } from '../constants/app.constants';\r\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\r\n\r\n@UntilDestroy({ checkProperties: true })\r\n@Component({\r\n\tselector: 'ngx-desktop-timer-login',\r\n\ttemplateUrl: './login.component.html',\r\n\tstyleUrls: ['./login.component.scss'],\r\n})\r\nexport class NgxLoginComponent extends NbLoginComponent implements OnInit {\r\n\tshowPassword = false;\r\n\r\n\tconstructor(\r\n\t\tpublic readonly electronService: ElectronService,\r\n\t\tpublic readonly nbAuthService: NbAuthService,\r\n\t\tpublic translate: TranslateService,\r\n\t\tpublic readonly cdr: ChangeDetectorRef,\r\n\t\tpublic readonly router: Router,\r\n\t\tprivate _languageSelectorService: LanguageSelectorService,\r\n\t\tprivate _ngZone: NgZone,\r\n\t\t@Inject(NB_AUTH_OPTIONS)\r\n\t\toptions: any,\r\n\t\tprivate readonly _domSanitizer: DomSanitizer,\r\n\t\t@Inject(GAUZY_ENV)\r\n\t\tprivate readonly _environment: any\r\n\t) {\r\n\t\tsuper(nbAuthService, options, cdr, router);\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\tthis.electronService.ipcRenderer.on(\r\n\t\t\t'preferred_language_change',\r\n\t\t\t(event, language: LanguagesEnum) => {\r\n\t\t\t\tthis._ngZone.run(() => {\r\n\t\t\t\t\tthis._languageSelectorService.setLanguage(\r\n\t\t\t\t\t\tlanguage,\r\n\t\t\t\t\t\tthis.translate\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t);\r\n\t\tfrom(this.electronService.ipcRenderer.invoke('PREFERRED_LANGUAGE'))\r\n\t\t\t.pipe(\r\n\t\t\t\ttap((language) => {\r\n\t\t\t\t\tthis._languageSelectorService.setLanguage(\r\n\t\t\t\t\t\tlanguage,\r\n\t\t\t\t\t\tthis.translate\r\n\t\t\t\t\t);\r\n\t\t\t\t}),\r\n\t\t\t\tuntilDestroyed(this)\r\n\t\t\t)\r\n\t\t\t.subscribe();\r\n\t}\r\n\r\n\tpublic forgot(): void {\r\n\t\tthis.electronService.shell.openExternal(\r\n\t\t\t'https://app.gauzy.co/#/auth/request-password'\r\n\t\t);\r\n\t}\r\n\r\n\tpublic register(): void {\r\n\t\tthis.electronService.shell.openExternal(\r\n\t\t\t'https://app.gauzy.co/#/auth/register'\r\n\t\t);\r\n\t}\r\n\r\n\tpublic get logoUrl(): SafeResourceUrl {\r\n\t\treturn this._domSanitizer.bypassSecurityTrustResourceUrl(\r\n\t\t\tthis._environment.PLATFORM_LOGO\r\n\t\t);\r\n\t}\r\n}\r\n"]}