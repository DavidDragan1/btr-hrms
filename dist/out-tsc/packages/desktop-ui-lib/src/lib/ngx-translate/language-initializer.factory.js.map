{"version":3,"file":"language-initializer.factory.js","sourceRoot":"","sources":["../../../../../../../packages/desktop-ui-lib/src/lib/ngx-translate/language-initializer.factory.ts"],"names":[],"mappings":";;;AAAA,+BAA4B;AAE5B,gDAAiD;AAGjD,SAAgB,0BAA0B,CACzC,SAA2B,EAC3B,eAAgC;IAEhC,OAAO,KAAK,IAAI,EAAE;QACjB,MAAM,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,yBAAa,CAAC,CAAC;QAC/C,MAAM,QAAQ,GAAG,MAAM,eAAe,CAAC,WAAW,CAAC,MAAM,CACxD,oBAAoB,CACpB,CAAC;QACF,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QAC9B,SAAS,CAAC,cAAc,CAAC,QAAQ,IAAI,yBAAa,CAAC,OAAO,CAAC,CAAC;QAC5D,OAAO,IAAA,WAAI,EAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,IAAI,yBAAa,CAAC,OAAO,CAAC,CAAC,CAAC;IAC/D,CAAC,CAAC;AACH,CAAC;AAbD,gEAaC","sourcesContent":["import { from } from 'rxjs';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { LanguagesEnum } from '@gauzy/contracts';\r\nimport { ElectronService } from '../electron/services';\r\n\r\nexport function LanguageInitializerFactory(\r\n\ttranslate: TranslateService,\r\n\telectronService: ElectronService\r\n) {\r\n\treturn async () => {\r\n\t\tconst languages = Object.values(LanguagesEnum);\r\n\t\tconst language = await electronService.ipcRenderer.invoke(\r\n\t\t\t'PREFERRED_LANGUAGE'\r\n\t\t);\r\n\t\ttranslate.addLangs(languages);\r\n\t\ttranslate.setDefaultLang(language || LanguagesEnum.ENGLISH);\r\n\t\treturn from(translate.use(language || LanguagesEnum.ENGLISH));\r\n\t};\r\n}\r\n"]}