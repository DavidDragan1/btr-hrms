{"version":3,"file":"setup.component.js","sourceRoot":"","sources":["../../../../../../../packages/desktop-ui-lib/src/lib/setup/setup.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n\tComponent,\r\n\tOnInit,\r\n\tChangeDetectorRef,\r\n\tChangeDetectionStrategy,\r\n\tViewChild,\r\n\tElementRef,\r\n\tInject\r\n} from '@angular/core';\r\nimport { SetupService } from './setup.service';\r\nimport { NbDialogService } from '@nebular/theme';\r\nimport { AlertComponent } from '../../lib/dialogs/alert/alert.component';\r\nimport { ElectronService, LoggerService } from '../electron/services';\r\nimport { ErrorHandlerService, Store } from '../services';\r\nimport { LanguageSelectorComponent } from '../language/language-selector.component';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { GAUZY_ENV } from '../constants';\r\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\r\nimport { IProxyConfig } from '@gauzy/contracts';\r\n\r\n@Component({\r\n\tselector: 'ngx-setup',\r\n\ttemplateUrl: './setup.component.html',\r\n\tstyleUrls: ['./setup.component.scss'],\r\n\tchangeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class SetupComponent implements OnInit {\r\n\t@ViewChild('dialogOpenBtn') btnDialogOpen: ElementRef<HTMLElement>;\r\n\t@ViewChild('selector') languageSelector: LanguageSelectorComponent;\r\n\t@ViewChild('logBox') logBox: ElementRef;\r\n\tpublic isSaving = false;\r\n\tpublic isCheckConnection = false;\r\n\tpublic logContents: string[] = [];\r\n\tconstructor(\r\n\t\tprivate setupService: SetupService,\r\n\t\tprivate _cdr: ChangeDetectorRef,\r\n\t\tprivate dialogService: NbDialogService,\r\n\t\tprivate electronService: ElectronService,\r\n\t\tprivate _errorHandlerService: ErrorHandlerService,\r\n\t\tprivate _loggerServer: LoggerService,\r\n\t\tprivate _translateService: TranslateService,\r\n\t\tprivate _store: Store,\r\n\t\t@Inject(GAUZY_ENV)\r\n\t\tprivate readonly _environment: any,\r\n\t\tprivate readonly _domSanitizer: DomSanitizer\r\n\t) {\r\n\t\telectronService.ipcRenderer.on('setup-data', (event, arg) => {\r\n\t\t\tthis.desktopFeatures.gauzyPlatform = arg.gauzyWindow;\r\n\t\t\tthis.desktopFeatures.timeTracking = arg.timeTrackerWindow;\r\n\t\t\tthis.connectivity.integrated = arg.isLocalServer;\r\n\t\t\tthis.connectivity.custom = !arg.isLocalServer && arg.serverUrl !== 'https://api.gauzy.co';\r\n\t\t\tthis.connectivity.live = arg.serverUrl && arg.serverUrl === 'https://api.gauzy.co';\r\n\t\t\tthis.thirdParty.activityWatch = arg.aw;\r\n\t\t\tthis.databaseDriver.sqlite = arg.db === 'sqlite';\r\n\t\t\tthis.databaseDriver.postgre = arg.db === 'postgres';\r\n\t\t\tthis.serverConfig.integrated.port = arg.port;\r\n\t\t\tif (!arg.isLocalServer) {\r\n\t\t\t\tthis.serverConfig.custom.apiHost = arg.serverUrl.split(':')[1].slice(2);\r\n\t\t\t\tthis.serverConfig.custom.port = arg.serverUrl.split(':')[2];\r\n\t\t\t}\r\n\t\t\tif (arg.db === 'postgres') {\r\n\t\t\t\tthis.databaseConfig.postgre = {\r\n\t\t\t\t\thost: arg[arg.db]?.dbHost,\r\n\t\t\t\t\tdbPort: arg[arg.db]?.dbPort,\r\n\t\t\t\t\tdbName: arg[arg.db]?.dbName,\r\n\t\t\t\t\tdbUser: arg[arg.db]?.dbUsername,\r\n\t\t\t\t\tdbPassword: arg[arg.db]?.dbPassword\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\telectronService.ipcRenderer.on('log_state', (event, arg) => {\r\n\t\t\tconst validMessage = this.defaultMessage.findIndex((item) => arg.msg.indexOf(item) > -1);\r\n\t\t\tif (validMessage > -1) {\r\n\t\t\t\tif (validMessage === 0 && arg.msg.indexOf('Found 0 users in DB') < 0) {\r\n\t\t\t\t\tthis.progressSetup = 100;\r\n\t\t\t\t\tthis.progressMessage = arg.msg;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (arg.msg.indexOf('SEEDED PRODUCTION DATABASE') > -1) {\r\n\t\t\t\t\t\tconst leftProgress = 100 - this.progressSetup;\r\n\t\t\t\t\t\tthis.progressSetup += leftProgress;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.progressSetup += 3;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.progressMessage = arg.msg;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this.logContents.length < 20) {\r\n\t\t\t\tthis.logContents.push(arg.msg);\r\n\t\t\t} else {\r\n\t\t\t\tthis.logContents.shift();\r\n\t\t\t\tthis.logContents.push(arg.msg);\r\n\t\t\t}\r\n\t\t\tthis.scrollToBottom();\r\n\t\t\tthis._cdr.detectChanges();\r\n\t\t});\r\n\r\n\t\telectronService.ipcRenderer.send('reset_permissions');\r\n\r\n\t\tthis.gauzyIcon = this._domSanitizer.bypassSecurityTrustResourceUrl(this._environment.PLATFORM_LOGO);\r\n\t}\r\n\tappName: string = this.electronService.remote.app.getName();\r\n\tloading: Boolean = false;\r\n\ticonAw = './assets/icons/toggle-left.svg';\r\n\tstatusIcon = 'success';\r\n\tawCheck = false;\r\n\tawAPI: String = 'http://localhost:5600';\r\n\tbuttonSave = false;\r\n\tgauzyIcon: SafeResourceUrl =\r\n\t\tthis.isDesktopTimer || this.isServer\r\n\t\t\t? './assets/images/logos/logo_Gauzy.svg'\r\n\t\t\t: '../assets/images/logos/logo_Gauzy.svg';\r\n\tdesktopFeatures: any = {\r\n\t\tgauzyPlatform: !this.isDesktopTimer,\r\n\t\ttimeTracking: !this.isServer\r\n\t};\r\n\r\n\tconnectivity: any = {\r\n\t\tintegrated: this.isServer,\r\n\t\tcustom: false,\r\n\t\tlive: !this.isServer\r\n\t};\r\n\r\n\tthirdParty: any = {\r\n\t\tactivitywatch: true,\r\n\t\twakatime: true\r\n\t};\r\n\r\n\tdatabaseDriver: any = {\r\n\t\tsqlite: true,\r\n\t\tpostgre: false\r\n\t};\r\n\r\n\tserverConfig: any = {\r\n\t\tintegrated: {\r\n\t\t\tport: '3000',\r\n\t\t\tportUi: '4200',\r\n\t\t\thost: '0.0.0.0'\r\n\t\t},\r\n\t\tcustom: {\r\n\t\t\tapiHost: '127.0.0.1',\r\n\t\t\tport: '3000'\r\n\t\t},\r\n\t\tlive: {\r\n\t\t\turl: 'https://api.gauzy.co'\r\n\t\t}\r\n\t};\r\n\r\n\tdatabaseConfig: any = {\r\n\t\tpostgre: {\r\n\t\t\thost: 'localhost',\r\n\t\t\tdbPort: '5432',\r\n\t\t\tdbName: 'postgres',\r\n\t\t\tdbUser: 'postgres',\r\n\t\t\tdbPassword: ''\r\n\t\t}\r\n\t};\r\n\r\n\tproxyOptions: IProxyConfig = {\r\n\t\tssl: {\r\n\t\t\tkey: '',\r\n\t\t\tcert: ''\r\n\t\t},\r\n\t\tsecure: true,\r\n\t\tenable: false\r\n\t};\r\n\r\n\tshowPassword = false;\r\n\r\n\tprogressSetup = 0;\r\n\tprogressMessage = 'Waiting ...';\r\n\tonProgress = false;\r\n\r\n\tdefaultMessage: any = [\r\n\t\t'users in DB',\r\n\t\t'Found 0 users in DB',\r\n\t\t'CLEANING UP FROM PREVIOUS RUNS...',\r\n\t\t'CLEANED UP',\r\n\t\t'RESET DATABASE SUCCESSFUL',\r\n\t\t'SEEDING PRODUCTION DATABASE...',\r\n\t\t'SEEDING Changelog',\r\n\t\t'SEEDING Countries',\r\n\t\t'SEEDING Currencies',\r\n\t\t'SEEDING Languages',\r\n\t\t'SEEDING PRODUCTION REPORTS DATABASE...',\r\n\t\t'SEEDING Default Report Category & Report',\r\n\t\t'CLEANING UP REPORT IMAGES...',\r\n\t\t'CLEANED UP REPORT IMAGES',\r\n\t\t'SEEDED PRODUCTION REPORTS DATABASE',\r\n\t\t'Database Reports Seed completed',\r\n\t\t'SEEDING Default Email Templates',\r\n\t\t'SEEDING Skills',\r\n\t\t'SEEDING Contacts',\r\n\t\t'SEEDING Default Employee Invite',\r\n\t\t'SEEDING Default General Goal Setting',\r\n\t\t'SEEDING Default Goal Template',\r\n\t\t'SEEDING Default Goal KPI Template',\r\n\t\t'SEEDING Default Key Result Template',\r\n\t\t'SEEDING Default Time Off Policy',\r\n\t\t'SEEDING Default Integration Types',\r\n\t\t'SEEDING Default Integrations',\r\n\t\t'SEEDED PRODUCTION DATABASE'\r\n\t];\r\n\r\n\tdialogData: any = {\r\n\t\ttitle: 'TOASTR.TITLE.SUCCESS',\r\n\t\tmessage: '',\r\n\t\tstatus: 'success'\r\n\t};\r\n\r\n\trunApp = false;\r\n\twelcomeTitle = 'TIMER_TRACKER.SETUP.TITLE';\r\n\twelcomeLabel = 'TIMER_TRACKER.SETUP.LABEL';\r\n\r\n\twelcomeText() {\r\n\t\tswitch (this.appName) {\r\n\t\t\tcase this._environment.DESKTOP_SERVER_APP_NAME:\r\n\t\t\t\tthis.welcomeTitle = 'TIMER_TRACKER.SETUP.TITLE_SERVER';\r\n\t\t\t\tthis.welcomeLabel = 'TIMER_TRACKER.SETUP.LABEL_SERVER';\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tconnectivityChange(event, key) {\r\n\t\tObject.keys(this.connectivity).forEach((itemKey) => {\r\n\t\t\tif (itemKey === key) {\r\n\t\t\t\tthis.connectivity[key] = true;\r\n\t\t\t} else this.connectivity[itemKey] = false;\r\n\t\t});\r\n\t}\r\n\r\n\tdatabaseDriverChange(event, key) {\r\n\t\tObject.keys(this.databaseDriver).forEach((itemKey) => {\r\n\t\t\tif (itemKey === key) this.databaseDriver[key] = true;\r\n\t\t\telse this.databaseDriver[itemKey] = false;\r\n\t\t});\r\n\t\tthis.validation();\r\n\t}\r\n\r\n\tgetThirdPartyConfig() {\r\n\t\treturn {\r\n\t\t\taw: this.thirdParty.activitywatch,\r\n\t\t\tawHost: this.awAPI,\r\n\t\t\twakatime: this.thirdParty.wakatime\r\n\t\t};\r\n\t}\r\n\r\n\tgetServerConfig() {\r\n\t\tif (this.connectivity.integrated) {\r\n\t\t\treturn {\r\n\t\t\t\t...this.serverConfig.integrated,\r\n\t\t\t\tisLocalServer: true\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tif (this.connectivity.custom) {\r\n\t\t\tconst protocol = this.serverConfig.custom.apiHost.indexOf('http') === 0 ? '' : 'http://';\r\n\t\t\tconst port = this.serverConfig.custom.port ? ':' + this.serverConfig.custom.port : '';\r\n\t\t\treturn {\r\n\t\t\t\tserverUrl: protocol + this.serverConfig.custom.apiHost + port,\r\n\t\t\t\tisLocalServer: false\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tthis._loggerServer.log.info(`Server Config:`, this.serverConfig);\r\n\t\tif (this.connectivity.live) {\r\n\t\t\treturn {\r\n\t\t\t\tserverUrl: this.serverConfig.live.url,\r\n\t\t\t\tisLocalServer: false\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\tgetDataBaseConfig() {\r\n\t\tif (this.databaseDriver.postgre) {\r\n\t\t\treturn {\r\n\t\t\t\tpostgres: {\r\n\t\t\t\t\tdbHost: this.databaseConfig.postgre.host,\r\n\t\t\t\t\tdbPort: this.databaseConfig.postgre.dbPort,\r\n\t\t\t\t\tdbName: this.databaseConfig.postgre.dbName,\r\n\t\t\t\t\tdbUsername: this.databaseConfig.postgre.dbUser,\r\n\t\t\t\t\tdbPassword: this.databaseConfig.postgre.dbPassword\r\n\t\t\t\t},\r\n\t\t\t\tdb: 'postgres'\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tif (this.databaseDriver.sqlite) {\r\n\t\t\treturn {\r\n\t\t\t\tdb: 'better-sqlite'\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\treturn {};\r\n\t}\r\n\r\n\tgetFeature() {\r\n\t\treturn {\r\n\t\t\tgauzyWindow: this.desktopFeatures.gauzyPlatform,\r\n\t\t\ttimeTrackerWindow: this.desktopFeatures.timeTracking\r\n\t\t};\r\n\t}\r\n\r\n\tpublic async saveAndRun() {\r\n\t\tif (this.connectivity.integrated) {\r\n\t\t\tthis.onProgress = true;\r\n\t\t}\r\n\t\tconst gauzyConfig = {\r\n\t\t\t...this.getServerConfig(),\r\n\t\t\t...this.getDataBaseConfig(),\r\n\t\t\t...this.getThirdPartyConfig(),\r\n\t\t\t...this.getFeature()\r\n\t\t};\r\n\t\tawait this.electronService.ipcRenderer.invoke('PREFERRED_LANGUAGE', this.languageSelector.preferredLanguage);\r\n\r\n\t\ttry {\r\n\t\t\tlet isStarted = false;\r\n\t\t\tif (this.isServer) {\r\n\t\t\t\tthis.electronService.ipcRenderer.send('start_server', gauzyConfig);\r\n\t\t\t\tisStarted = true;\r\n\t\t\t} else {\r\n\t\t\t\tisStarted = await this.electronService.ipcRenderer.invoke('START_SERVER', gauzyConfig);\r\n\t\t\t}\r\n\t\t\tif (isStarted && !gauzyConfig.isLocalServer) {\r\n\t\t\t\tthis.electronService.ipcRenderer.send('app_is_init');\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tthis._errorHandlerService.handleError(error);\r\n\t\t}\r\n\t\tthis.isSaving = false;\r\n\t}\r\n\r\n\tsaveChange() {\r\n\t\tthis.isSaving = true;\r\n\t\tthis.runApp = true;\r\n\t\tthis.checkConnection(true);\r\n\t}\r\n\r\n\tasync pingAw(): Promise<void> {\r\n\t\ttry {\r\n\t\t\tthis.awCheck = false;\r\n\t\t\tawait this.setupService.pingAw(`${this.awAPI}/api`);\r\n\t\t\tthis.iconAw = './assets/icons/toggle-right.svg';\r\n\t\t\tthis.awCheck = true;\r\n\t\t\tthis.statusIcon = 'success';\r\n\t\t\tthis._cdr.detectChanges();\r\n\t\t} catch (error) {\r\n\t\t\tthis.iconAw = './assets/icons/toggle-left.svg';\r\n\t\t\tthis.awCheck = true;\r\n\t\t\tthis.statusIcon = 'danger';\r\n\t\t\tthis._cdr.detectChanges();\r\n\t\t}\r\n\t}\r\n\r\n\tvalidation() {\r\n\t\tconst { integrated, custom, live } = this.connectivity;\r\n\t\tconst { port, portUi } = this.serverConfig.integrated;\r\n\t\tconst { apiHost } = this.serverConfig.custom;\r\n\t\tconst { host, dbPort, dbName, dbUser, dbPassword } = this.databaseConfig.postgre;\r\n\r\n\t\tconst { postgre, sqlite } = this.databaseDriver;\r\n\r\n\t\tswitch (true) {\r\n\t\t\tcase integrated && port && portUi && dbPort && host && dbName && dbUser && dbPassword && postgre:\r\n\t\t\t\tthis.buttonSave = true;\r\n\t\t\t\tbreak;\r\n\t\t\tcase integrated && port && portUi && sqlite:\r\n\t\t\t\tthis.buttonSave = true;\r\n\t\t\t\tbreak;\r\n\t\t\tcase custom && apiHost && this.serverConfig.custom.port > 0:\r\n\t\t\t\tthis.buttonSave = true;\r\n\t\t\t\tbreak;\r\n\t\t\tcase live:\r\n\t\t\t\tthis.buttonSave = true;\r\n\t\t\t\tbreak;\r\n\t\t\tcase custom && apiHost && this.serverConfig.custom.port === null:\r\n\t\t\t\tthis.buttonSave = true;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthis.buttonSave = false;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\topenLink(link) {\r\n\t\tthis.electronService.ipcRenderer.send('open_browser', {\r\n\t\t\turl: link\r\n\t\t});\r\n\t}\r\n\r\n\tgetInputType() {\r\n\t\tif (this.showPassword) {\r\n\t\t\treturn 'text';\r\n\t\t}\r\n\t\treturn 'password';\r\n\t}\r\n\r\n\ttoggleShowPassword() {\r\n\t\tthis.showPassword = !this.showPassword;\r\n\t}\r\n\r\n\tcheckDatabaseConn() {\r\n\t\tthis.electronService.ipcRenderer.send('check_database_connection', {\r\n\t\t\t...this.getDataBaseConfig()\r\n\t\t});\r\n\t}\r\n\r\n\tcheckServerConn() {\r\n\t\tconst serverHostOptions = this.getServerConfig();\r\n\t\tconsole.log('server host', serverHostOptions);\r\n\t\tthis.setupService\r\n\t\t\t.pingServer({\r\n\t\t\t\thost: serverHostOptions.serverUrl\r\n\t\t\t})\r\n\t\t\t.then(async (res) => {\r\n\t\t\t\tif (this.runApp) {\r\n\t\t\t\t\tawait this.saveAndRun();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.dialogData = {\r\n\t\t\t\t\t\ttitle: 'TOASTR.TITLE.SUCCESS',\r\n\t\t\t\t\t\tmessage: this._translateService.instant('TIMER_TRACKER.SETTINGS.MESSAGES.CONNECTION_SUCCEEDS', {\r\n\t\t\t\t\t\t\turl: serverHostOptions.serverUrl\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tstatus: 'success'\r\n\t\t\t\t\t};\r\n\t\t\t\t\tconst elBtn: HTMLElement = this.btnDialogOpen.nativeElement;\r\n\t\t\t\t\telBtn.click();\r\n\t\t\t\t\tthis.isCheckConnection = false;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((e) => {\r\n\t\t\t\tthis.dialogData = {\r\n\t\t\t\t\ttitle: 'TOASTR.TITLE.ERROR',\r\n\t\t\t\t\tmessage: e.message,\r\n\t\t\t\t\tstatus: 'danger'\r\n\t\t\t\t};\r\n\t\t\t\tconst elBtn: HTMLElement = this.btnDialogOpen.nativeElement;\r\n\t\t\t\telBtn.click();\r\n\t\t\t\tthis.isSaving = false;\r\n\t\t\t\tthis.isCheckConnection = false;\r\n\t\t\t});\r\n\t}\r\n\r\n\tcheckConnection(notRun = false) {\r\n\t\tthis.runApp = notRun;\r\n\t\tif (!notRun) {\r\n\t\t\tthis.isCheckConnection = true;\r\n\t\t}\r\n\t\tif (this.connectivity.integrated) {\r\n\t\t\tthis.checkDatabaseConn();\r\n\t\t} else {\r\n\t\t\tthis.checkServerConn();\r\n\t\t}\r\n\t}\r\n\r\n\topen(hasBackdrop: boolean) {\r\n\t\tthis.dialogService.open(AlertComponent, {\r\n\t\t\tcontext: {\r\n\t\t\t\tdata: this.dialogData\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\topenfromhere(hasBackdrop: boolean) {\r\n\t\tthis.open(hasBackdrop);\r\n\t}\r\n\r\n\tngOnInit(): void {\r\n\t\tthis.welcomeText();\r\n\t\tthis.electronService.ipcRenderer.on('database_status', (event, arg) => {\r\n\t\t\t// this.open(true);\r\n\t\t\tif (arg.status) {\r\n\t\t\t\tthis.dialogData = {\r\n\t\t\t\t\ttitle: 'TOASTR.TITLE.SUCCESS',\r\n\t\t\t\t\tmessage: arg.message,\r\n\t\t\t\t\tstatus: 'success'\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\tthis.dialogData = {\r\n\t\t\t\t\ttitle: 'TOASTR.TITLE.WARNING',\r\n\t\t\t\t\tmessage: arg.message,\r\n\t\t\t\t\tstatus: 'danger'\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tif (arg.status && this.runApp) {\r\n\t\t\t\tthis.saveAndRun();\r\n\t\t\t} else {\r\n\t\t\t\tconst elBtn: HTMLElement = this.btnDialogOpen.nativeElement;\r\n\t\t\t\telBtn.click();\r\n\t\t\t}\r\n\t\t\tthis.isSaving = false;\r\n\t\t\tthis.isCheckConnection = false;\r\n\t\t\tthis._cdr.detectChanges();\r\n\t\t});\r\n\t\tthis.validation();\r\n\t}\r\n\r\n\tpublic get isDesktopTimer(): boolean {\r\n\t\treturn this._environment.IS_DESKTOP_TIMER;\r\n\t}\r\n\r\n\tpublic get isDesktop(): boolean {\r\n\t\treturn this._environment.IS_DESKTOP;\r\n\t}\r\n\r\n\tpublic get isServer(): boolean {\r\n\t\treturn this._environment.IS_SERVER;\r\n\t}\r\n\r\n\tpublic get isServerApi(): boolean {\r\n\t\treturn this._environment.IS_SERVER_API;\r\n\t}\r\n\r\n\tprivate scrollToBottom() {\r\n\t\tthis.logBox.nativeElement.scrollTop = this.logBox.nativeElement.scrollHeight;\r\n\t}\r\n\r\n\tpublic onChangeProxyConfig(config: IProxyConfig) {\r\n\t\tthis.electronService.ipcRenderer.send('update_server_config', {\r\n\t\t\tsecureProxy: config\r\n\t\t});\r\n\t}\r\n}\r\n"]}