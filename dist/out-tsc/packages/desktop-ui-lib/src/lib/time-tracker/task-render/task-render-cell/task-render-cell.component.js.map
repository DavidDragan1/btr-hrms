{"version":3,"file":"task-render-cell.component.js","sourceRoot":"","sources":["../../../../../../../../../packages/desktop-ui-lib/src/lib/time-tracker/task-render/task-render-cell/task-render-cell.component.ts"],"names":[],"mappings":";;;;AAAA,wCAAqD;AACrD,oEAA+D;AAC/D,8CAAqC;AAErC,yDAAqE;AAErE,0CAAmE;AACnE,gFAAyE;AAQlE,IAAM,uBAAuB,qCAA7B,MAAM,uBAAwB,SAAQ,2CAAmB;IAG/D,YAAoB,cAA+B;QAClD,KAAK,EAAE,CAAC;QADW,mBAAc,GAAd,cAAc,CAAiB;IAEnD,CAAC;IAED,IAAW,OAAO;QACjB,OAAO,IAAI,CAAC,QAAQ,CAAC;IACtB,CAAC;IAED,IACW,OAAO,CAAC,KAAyB;QAC3C,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;IACvB,CAAC;IAED,IAAW,KAAK;QACf,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;IACxB,CAAC;IAED,IAAW,MAAM;QAChB,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,eAAe,EAAE,EAAE,CAAC;IAC7D,CAAC;IAED,IAAW,IAAI;QACd,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;IAC3B,CAAC;IAED,IAAW,QAAQ;QAClB,OAAO,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC;IAC/B,CAAC;IAED,IAAW,WAAW;QACrB,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CACrB,IAAA,eAAG,EAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,UAAU,CAAC,EAC/B,IAAA,8BAAc,EAAC,IAAI,CAAC,CACpB,CAAC;IACH,CAAC;IAEO,eAAe;QACtB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM;YAAE,OAAO;QACnD,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM;aACrB,MAAM,CAAC,GAAG,CAAC;aACX,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aAChC,WAAW,EAAE,CAAC;IACjB,CAAC;IAEM,UAAU;QAChB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,2CAAmB,EAAE;YAC7C,OAAO,EAAE;gBACR,IAAI,EAAE,IAAI,CAAC,IAAI;aACf;YACD,aAAa,EAAE,eAAe;SAC9B,CAAC,CAAA;IACH,CAAC;CACD,CAAA;AA5CA;IAAC,IAAA,gBAAS,EAAC,0BAAkB,CAAC;sCACJ,0BAAkB;6CAAlB,0BAAkB;sDAE3C;kCAdW,uBAAuB;IANnC,IAAA,4BAAY,EAAC,EAAE,eAAe,EAAE,IAAI,EAAE,CAAC;IACvC,IAAA,gBAAS,EAAC;QACV,QAAQ,EAAE,wBAAwB;QAClC,WAAW,EAAE,mCAAmC;QAChD,SAAS,EAAE,CAAC,mCAAmC,CAAC;KAChD,CAAC;6CAImC,uBAAe;GAHvC,uBAAuB,CAuDnC","sourcesContent":["import { Component, ViewChild } from '@angular/core';\r\nimport { TaskRenderComponent } from '../task-render.component';\r\nimport { map } from 'rxjs/operators';\r\nimport { Observable } from 'rxjs';\r\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\r\nimport { ITaskPriority, ITaskSize } from '@gauzy/contracts';\r\nimport {NbDialogService, NbPopoverDirective} from '@nebular/theme';\r\nimport {TaskDetailComponent} from \"../task-detail/task-detail.component\";\r\n\r\n@UntilDestroy({ checkProperties: true })\r\n@Component({\r\n\tselector: 'gauzy-task-render-cell',\r\n\ttemplateUrl: './task-render-cell.component.html',\r\n\tstyleUrls: ['./task-render-cell.component.scss'],\r\n})\r\nexport class TaskRenderCellComponent extends TaskRenderComponent {\r\n\tprivate _popover: NbPopoverDirective;\r\n\r\n\tconstructor(private _dialogService: NbDialogService) {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tpublic get popover(): NbPopoverDirective {\r\n\t\treturn this._popover;\r\n\t}\r\n\r\n\t@ViewChild(NbPopoverDirective)\r\n\tpublic set popover(value: NbPopoverDirective) {\r\n\t\tthis._popover = value;\r\n\t}\r\n\r\n\tpublic get title(): string {\r\n\t\treturn this.task.title;\r\n\t}\r\n\r\n\tpublic get number(): string {\r\n\t\treturn `#${this.task.taskNumber || this.buildTaskNumber()}`;\r\n\t}\r\n\r\n\tpublic get size(): ITaskSize {\r\n\t\treturn this.task.taskSize;\r\n\t}\r\n\r\n\tpublic get priority(): ITaskPriority {\r\n\t\treturn this.task.taskPriority;\r\n\t}\r\n\r\n\tpublic get isSelected$(): Observable<boolean> {\r\n\t\treturn this.task$.pipe(\r\n\t\t\tmap((task) => task?.isSelected),\r\n\t\t\tuntilDestroyed(this)\r\n\t\t);\r\n\t}\r\n\r\n\tprivate buildTaskNumber() {\r\n\t\tif (!this.task.prefix || !this.task.number) return;\r\n\t\treturn this.task.prefix\r\n\t\t\t.concat('-')\r\n\t\t\t.concat(String(this.task.number))\r\n\t\t\t.toUpperCase();\r\n\t}\r\n\r\n\tpublic showDetail(){\r\n\t\tthis._dialogService.open(TaskDetailComponent, {\r\n\t\t\tcontext: {\r\n\t\t\t\ttask: this.task\r\n\t\t\t},\r\n\t\t\tbackdropClass: 'backdrop-blur',\r\n\t\t})\r\n\t}\r\n}\r\n"]}