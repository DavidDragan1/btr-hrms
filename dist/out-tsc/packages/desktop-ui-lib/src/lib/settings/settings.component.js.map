{"version":3,"file":"settings.component.js","sourceRoot":"","sources":["../../../../../../../packages/desktop-ui-lib/src/lib/settings/settings.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n\tComponent,\r\n\tOnInit,\r\n\tChangeDetectionStrategy,\r\n\tViewChild,\r\n\tElementRef,\r\n\tNgZone,\r\n\tAfterViewInit,\r\n\tOptional,\r\n\tInject\r\n} from '@angular/core';\r\nimport { TimeTrackerService } from '../time-tracker/time-tracker.service';\r\nimport { NbDialogService, NbToastrService } from '@nebular/theme';\r\nimport { ElectronService } from '../electron/services';\r\nimport { BehaviorSubject, Observable, filter, tap, firstValueFrom, from } from 'rxjs';\r\nimport { AboutComponent } from '../dialogs/about/about.component';\r\nimport { SetupService } from '../setup/setup.service';\r\nimport * as moment from 'moment';\r\nimport { TimeTrackerDateManager, TimeZoneManager, ToastrNotificationService, ZoneEnum } from '../services';\r\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\r\nimport { AuthStrategy } from '../auth';\r\nimport { DEFAULT_SCREENSHOT_FREQUENCY_OPTIONS, LanguagesEnum } from '@gauzy/contracts';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { LanguageSelectorService } from '../language/language-selector.service';\r\nimport { GAUZY_ENV } from '../constants';\r\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\r\n\r\n@UntilDestroy({ checkProperties: true })\r\n@Component({\r\n\tselector: 'ngx-settings',\r\n\ttemplateUrl: './settings.component.html',\r\n\tstyleUrls: ['./settings.component.scss'],\r\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\r\n\tstyles: [\r\n\t\t`\r\n\t\t\t:host nb-tab {\r\n\t\t\t\tpadding: 1rem;\r\n\t\t\t}\r\n\t\t`\r\n\t]\r\n})\r\nexport class SettingsComponent implements OnInit, AfterViewInit {\r\n\t@ViewChild('selectRef') selectProjectElement: ElementRef;\r\n\t@ViewChild('logBox', { read: ElementRef })\r\n\tset logBox(content: ElementRef) {\r\n\t\tif (content) {\r\n\t\t\tthis._logBox = content;\r\n\t\t}\r\n\t}\r\n\t@ViewChild('logUpdate') logAccordion;\r\n\tprivate _logBox: ElementRef;\r\n\tprivate _logContents$: BehaviorSubject<any[]> = new BehaviorSubject([]);\r\n\tpublic get logContents$(): Observable<any[]> {\r\n\t\treturn this._logContents$.asObservable();\r\n\t}\r\n\tpublic set logContents(value: any) {\r\n\t\tconst logs = this._logContents$.getValue();\r\n\t\tlogs.push(value);\r\n\t\tthis._logContents$.next(logs);\r\n\t}\r\n\tlogIsOpen = false;\r\n\tprivate _isRestart$: BehaviorSubject<boolean>;\r\n\r\n\tappName: string = this.electronService.remote.app.getName();\r\n\tmenus = [];\r\n\tgauzyIcon: SafeResourceUrl =\r\n\t\tthis.isDesktopTimer || this.isServer\r\n\t\t\t? './assets/images/logos/logo_Gauzy.svg'\r\n\t\t\t: '../assets/images/logos/logo_Gauzy.svg';\r\n\r\n\tprivate _monitorsOption$: BehaviorSubject<any> = new BehaviorSubject([\r\n\t\t{\r\n\t\t\tvalue: 'all',\r\n\t\t\ttitle: 'TIMER_TRACKER.SETTINGS.CAPTURE_ALL_MONITORS',\r\n\t\t\tsubtitle: 'TIMER_TRACKER.SETTINGS.ALL_CONNECTED_MONITORS',\r\n\t\t\taccent: 'basic',\r\n\t\t\tstatus: 'basic'\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 'active-only',\r\n\t\t\ttitle: 'TIMER_TRACKER.SETTINGS.CAPTURE_ACTIVE_MONITOR',\r\n\t\t\tsubtitle: 'TIMER_TRACKER.SETTINGS.MONITOR_CURRENT_POSITION',\r\n\t\t\ticonStyle: 'all-monitor_icon',\r\n\t\t\taccent: 'basic',\r\n\t\t\tstatus: 'basic'\r\n\t\t}\r\n\t]);\r\n\tthirdPartyConfig = [\r\n\t\t{\r\n\t\t\ttitle: 'Unleash',\r\n\t\t\tfields: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'UNLEASH_APP_NAME',\r\n\t\t\t\t\tfield: 'UNLEASH_APP_NAME',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'UNLEASH_API_URL',\r\n\t\t\t\t\tfield: 'UNLEASH_API_URL',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'UNLEASH_INSTANCE_ID',\r\n\t\t\t\t\tfield: 'UNLEASH_INSTANCE_ID',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'UNLEASH_REFRESH_INTERVAL',\r\n\t\t\t\t\tfield: 'UNLEASH_REFRESH_INTERVAL',\r\n\t\t\t\t\tvalue: 15000\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'UNLEASH_METRICS_INTERVAL',\r\n\t\t\t\t\tfield: 'UNLEASH_METRICS_INTERVAL',\r\n\t\t\t\t\tvalue: 60000\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'UNLEASH_API_KEY',\r\n\t\t\t\t\tfield: 'UNLEASH_API_KEY',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Twitter',\r\n\t\t\tfields: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'TWITTER_CLIENT_ID',\r\n\t\t\t\t\tfield: 'TWITTER_CLIENT_ID',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'TWITTER_CLIENT_SECRET',\r\n\t\t\t\t\tfield: 'TWITTER_CLIENT_SECRET',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'TWITTER_CALLBACK_URL',\r\n\t\t\t\t\tfield: 'TWITTER_CALLBACK_URL',\r\n\t\t\t\t\tvalue: 'http://localhost:3000/api/auth/twitter/callback'\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Google',\r\n\t\t\tfields: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'GOOGLE_CLIENT_ID',\r\n\t\t\t\t\tfield: 'GOOGLE_CLIENT_ID',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'GOOGLE_CLIENT_SECRET',\r\n\t\t\t\t\tfield: 'GOOGLE_CLIENT_SECRET',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'GOOGLE_CALLBACK_URL',\r\n\t\t\t\t\tfield: 'GOOGLE_CALLBACK_URL',\r\n\t\t\t\t\tvalue: 'http://localhost:3000/api/auth/google/callback'\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Facebook',\r\n\t\t\tfields: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'FACEBOOK_CLIENT_ID',\r\n\t\t\t\t\tfield: 'FACEBOOK_CLIENT_ID',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'FACEBOOK_CLIENT_SECRET',\r\n\t\t\t\t\tfield: 'FACEBOOK_CLIENT_SECRET',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'FACEBOOK_CALLBACK_URL',\r\n\t\t\t\t\tfield: 'FACEBOOK_CALLBACK_URL',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'FACEBOOK_GRAPH_VERSION',\r\n\t\t\t\t\tfield: 'FACEBOOK_GRAPH_VERSION',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Github',\r\n\t\t\tfields: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'GAUZY_GITHUB_OAUTH_CLIENT_ID',\r\n\t\t\t\t\tfield: 'GAUZY_GITHUB_OAUTH_CLIENT_ID',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'GAUZY_GITHUB_OAUTH_CLIENT_SECRET',\r\n\t\t\t\t\tfield: 'GAUZY_GITHUB_OAUTH_CLIENT_SECRET',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'GAUZY_GITHUB_OAUTH_CALLBACK_URL',\r\n\t\t\t\t\tfield: 'GAUZY_GITHUB_OAUTH_CALLBACK_URL',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'LinkedIn',\r\n\t\t\tfields: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'LINKEDIN_CLIENT_ID',\r\n\t\t\t\t\tfield: 'LINKEDIN_CLIENT_ID',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'LINKEDIN_CLIENT_SECRET',\r\n\t\t\t\t\tfield: 'LINKEDIN_CLIENT_SECRET',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'LINKEDIN_CALLBACK_URL',\r\n\t\t\t\t\tfield: 'LINKEDIN_CALLBACK_URL',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Microsoft',\r\n\t\t\tfields: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'MICROSOFT_CLIENT_ID',\r\n\t\t\t\t\tfield: 'MICROSOFT_CLIENT_ID',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'MICROSOFT_CLIENT_SECRET',\r\n\t\t\t\t\tfield: 'MICROSOFT_CLIENT_SECRET',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'MICROSOFT_RESOURCE',\r\n\t\t\t\t\tfield: 'MICROSOFT_RESOURCE',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'MICROSOFT_TENANT',\r\n\t\t\t\t\tfield: 'MICROSOFT_TENANT',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'MICROSOFT_CALLBACK_URL',\r\n\t\t\t\t\tfield: 'MICROSOFT_CALLBACK_URL',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Fiverr',\r\n\t\t\tfields: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'FIVERR_CLIENT_ID',\r\n\t\t\t\t\tfield: 'FIVERR_CLIENT_ID',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'FIVERR_CLIENT_SECRET',\r\n\t\t\t\t\tfield: 'FIVERR_CLIENT_SECRET',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Auth0',\r\n\t\t\tfields: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'AUTH0_CLIENT_ID',\r\n\t\t\t\t\tfield: 'AUTH0_CLIENT_ID',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'AUTH0_CLIENT_SECRET',\r\n\t\t\t\t\tfield: 'AUTH0_CLIENT_SECRET',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'AUTH0_DOMAIN',\r\n\t\t\t\t\tfield: 'AUTH0_DOMAIN',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Keycloak',\r\n\t\t\tfields: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'KEYCLOAK_REALM',\r\n\t\t\t\t\tfield: 'KEYCLOAK_REALM',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'KEYCLOAK_CLIENT_ID',\r\n\t\t\t\t\tfield: 'KEYCLOAK_CLIENT_ID',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'KEYCLOAK_SECRET',\r\n\t\t\t\t\tfield: 'KEYCLOAK_SECRET',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'KEYCLOAK_AUTH_SERVER_URL',\r\n\t\t\t\t\tfield: 'KEYCLOAK_AUTH_SERVER_URL',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'KEYCLOAK_COOKIE_KEY',\r\n\t\t\t\t\tfield: 'KEYCLOAK_COOKIE_KEY',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Other',\r\n\t\t\tfields: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'SENTRY_DSN',\r\n\t\t\t\t\tfield: 'SENTRY_DSN',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'GOOGLE_MAPS_API_KEY',\r\n\t\t\t\t\tfield: 'GOOGLE_MAPS_API_KEY',\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t];\r\n\r\n\tprivate _selectedMenu$: BehaviorSubject<string>;\r\n\tprivate get _selectedMenu(): string {\r\n\t\treturn this._selectedMenu$.getValue();\r\n\t}\r\n\t/* Set Default Value */\r\n\tappSetting = {\r\n\t\ttimerStarted: false,\r\n\t\trandomScreenshotTime: 10,\r\n\t\ttrackOnPcSleep: false,\r\n\t\tpreventDisplaySleep: false,\r\n\t\tvisibleAwOption: true,\r\n\t\tvisibleWakatimeOption: false,\r\n\t\tpreferredLanguage: LanguagesEnum.ENGLISH,\r\n\t\tenforced: false\r\n\t};\r\n\tperiodOption = DEFAULT_SCREENSHOT_FREQUENCY_OPTIONS;\r\n\tselectedPeriod = 5;\r\n\tscreenshotNotification = null;\r\n\tconfig = {\r\n\t\t/* Default Selected dialect\t*/\r\n\t\tdb: 'better-sqlite',\r\n\t\t/* Default Mysql config */\r\n\t\tmysql: {\r\n\t\t\tdbHost: '127.0.0.1',\r\n\t\t\tdbPort: 3306,\r\n\t\t\tdbUsername: 'root',\r\n\t\t\tdbPassword: ''\r\n\t\t},\r\n\t\t/* Default PostgresSQL config */\r\n\t\tpostgres: {\r\n\t\t\tdbHost: '127.0.0.1',\r\n\t\t\tdbPort: 5432,\r\n\t\t\tdbUsername: 'postgres',\r\n\t\t\tdbPassword: 'postgres'\r\n\t\t},\r\n\t\ttimeTrackerWindow: null,\r\n\t\tisLocalServer: false,\r\n\t\tserverType: null,\r\n\t\tserverUrl: null,\r\n\t\tawPort: null,\r\n\t\tawHost: null,\r\n\t\tport: 3000,\r\n\t\tportUi: 4200,\r\n\t\thost: '0.0.0.0',\r\n\t\tsecureProxy: {\r\n\t\t\tssl: {\r\n\t\t\t\tkey: '',\r\n\t\t\t\tcert: ''\r\n\t\t\t},\r\n\t\t\tsecure: true,\r\n\t\t\tenable: false\r\n\t\t},\r\n\t\tautoStart: true\r\n\t};\r\n\tversion = '0.0.0';\r\n\tmessage = {\r\n\t\ttext: 'TIMER_TRACKER.SETTINGS.MESSAGES.APP_UPDATE',\r\n\t\tstatus: 'basic'\r\n\t};\r\n\tdownloadFinish = false;\r\n\tprogressDownload = 0;\r\n\tshowProgressBar = false;\r\n\tautoLaunch = null;\r\n\tminimizeOnStartup = null;\r\n\tauthSetting = null;\r\n\tcurrentUser$: BehaviorSubject<any> = new BehaviorSubject(null);\r\n\tserverTypes = {\r\n\t\tintegrated: 'Integrated',\r\n\t\tcustom: 'Custom',\r\n\t\tlive: 'Live'\r\n\t};\r\n\twaitRestart = false;\r\n\tserverIsRunning = false;\r\n\r\n\tserverOptions = this.isDesktopTimer\r\n\t\t? [this.serverTypes.custom, this.serverTypes.live]\r\n\t\t: [this.serverTypes.integrated, this.serverTypes.custom, this.serverTypes.live];\r\n\r\n\tdriverOptions = ['better-sqlite', 'sqlite', 'postgres', ...(this.isDesktopTimer ? ['mysql'] : [])];\r\n\tmuted: boolean;\r\n\r\n\tdelayOptions: number[] = [0.5, 1, 3, 24];\r\n\tzones = TimeZoneManager.zones;\r\n\tselectedZone: ZoneEnum = ZoneEnum.LOCAL;\r\n\tcompanyName: string;\r\n\tcompanyLink: string;\r\n\tcompanySite: string;\r\n\r\n\tprivate _loading$: BehaviorSubject<boolean>;\r\n\tprivate _automaticUpdate$: BehaviorSubject<boolean>;\r\n\tprivate _automaticUpdateDelay$: BehaviorSubject<number>;\r\n\tprivate _available$: BehaviorSubject<boolean>;\r\n\tprivate _updaterServer$: BehaviorSubject<any>;\r\n\tprivate _file$: BehaviorSubject<any>;\r\n\tprivate _prerelease$: BehaviorSubject<boolean>;\r\n\tprivate _isCheckDatabase$: BehaviorSubject<boolean>;\r\n\tprivate _isCheckHost$: BehaviorSubject<{\r\n\t\tisLoading: boolean;\r\n\t\tisHidden: boolean;\r\n\t\tmessage: string;\r\n\t\tstatus: boolean;\r\n\t}>;\r\n\tprivate _isConnectedDatabase$: BehaviorSubject<{\r\n\t\tstatus: boolean;\r\n\t\tmessage: string;\r\n\t}>;\r\n\tprivate _restartDisable$: BehaviorSubject<boolean>;\r\n\tprivate _isHidden$: BehaviorSubject<boolean>;\r\n\tprivate _simpleScreenshotNotification$: BehaviorSubject<boolean>;\r\n\tprivate _timeZoneManager = TimeZoneManager;\r\n\r\n\tconstructor(\r\n\t\tprivate electronService: ElectronService,\r\n\t\tprivate _ngZone: NgZone,\r\n\t\tprivate readonly timeTrackerService: TimeTrackerService,\r\n\t\tprivate toastrService: NbToastrService,\r\n\t\tprivate _dialogService: NbDialogService,\r\n\t\tprivate _setupService: SetupService,\r\n\t\tprivate _notifier: ToastrNotificationService,\r\n\t\tprivate _translateService: TranslateService,\r\n\t\tprivate _languageSelectorService: LanguageSelectorService,\r\n\t\t@Optional()\r\n\t\tprivate _authStrategy: AuthStrategy,\r\n\t\t@Inject(GAUZY_ENV)\r\n\t\tprivate readonly _environment: any,\r\n\t\tprivate readonly _domSanitizer: DomSanitizer\r\n\t) {\r\n\t\tthis._loading$ = new BehaviorSubject(false);\r\n\t\tthis._automaticUpdate$ = new BehaviorSubject(false);\r\n\t\tthis._automaticUpdateDelay$ = new BehaviorSubject(1);\r\n\t\tthis._available$ = new BehaviorSubject(false);\r\n\t\tthis._file$ = new BehaviorSubject({ uri: null });\r\n\t\tthis._updaterServer$ = new BehaviorSubject({\r\n\t\t\tgithub: false,\r\n\t\t\tdigitalOcean: true,\r\n\t\t\tlocal: false\r\n\t\t});\r\n\t\tthis._prerelease$ = new BehaviorSubject(false);\r\n\t\tthis._selectedMenu$ = new BehaviorSubject(null);\r\n\t\tthis._isCheckDatabase$ = new BehaviorSubject(false);\r\n\t\tthis._isCheckHost$ = new BehaviorSubject({\r\n\t\t\tisLoading: false,\r\n\t\t\tisHidden: true,\r\n\t\t\tstatus: false,\r\n\t\t\tmessage: ''\r\n\t\t});\r\n\t\tthis._isConnectedDatabase$ = new BehaviorSubject({\r\n\t\t\tstatus: false,\r\n\t\t\tmessage: null\r\n\t\t});\r\n\t\tthis._restartDisable$ = new BehaviorSubject(false);\r\n\t\tthis._isHidden$ = new BehaviorSubject(true);\r\n\t\tthis._simpleScreenshotNotification$ = new BehaviorSubject(false);\r\n\t\tthis._isRestart$ = new BehaviorSubject(false);\r\n\t\tthis.companyName = this._environment.COMPANY_NAME;\r\n\t\tthis.companySite = this._environment.COMPANY_SITE;\r\n\t\tthis.companyLink = this._environment.COMPANY_LINK;\r\n\t\tthis.gauzyIcon = this._domSanitizer.bypassSecurityTrustResourceUrl(\r\n\t\t\tthis._environment.PLATFORM_LOGO\r\n\t\t);\r\n\t}\r\n\r\n\tngOnInit(): void {\r\n\t\tthis.electronService.ipcRenderer.send('request_permission');\r\n\t\tthis.version = this.electronService.remote.app.getVersion();\r\n\t\tthis.isConnectedDatabase$\r\n\t\t\t.pipe(\r\n\t\t\t\ttap(({ status }) => this._restartDisable$.next(!status)),\r\n\t\t\t\tfilter(() => !this._isCheckHost.status),\r\n\t\t\t\ttap(() => this._restartDisable$.next(true)),\r\n\t\t\t\tuntilDestroyed(this)\r\n\t\t\t)\r\n\t\t\t.subscribe();\r\n\t\tthis.isCheckHost$\r\n\t\t\t.pipe(\r\n\t\t\t\ttap(({ status }) => this._restartDisable$.next(!status)),\r\n\t\t\t\tfilter(() => !this._isConnectedDatabase.status),\r\n\t\t\t\ttap(() => this._restartDisable$.next(true)),\r\n\t\t\t\tuntilDestroyed(this)\r\n\t\t\t)\r\n\t\t\t.subscribe();\r\n\t\tthis.isRestart$\r\n\t\t\t.pipe(\r\n\t\t\t\ttap((isRestart: boolean) =>\r\n\t\t\t\t\tthis._restartDisable$.next(isRestart)\r\n\t\t\t\t),\r\n\t\t\t\tuntilDestroyed(this)\r\n\t\t\t)\r\n\t\t\t.subscribe();\r\n\t}\r\n\r\n\tngAfterViewInit(): void {\r\n\t\tthis.electronService.ipcRenderer.on('app_setting', (event, arg) =>\r\n\t\t\tthis._ngZone.run(async () => {\r\n\t\t\t\tconst { setting, config, auth, additionalSetting } = arg;\r\n\t\t\t\tthis.appSetting = {\r\n\t\t\t\t\t...this.appSetting,\r\n\t\t\t\t\t...setting\r\n\t\t\t\t};\r\n\t\t\t\tthis.config = {\r\n\t\t\t\t\t...this.config,\r\n\t\t\t\t\t...config\r\n\t\t\t\t};\r\n\t\t\t\tthis.checkDatabaseConnectivity();\r\n\t\t\t\tthis.authSetting = auth;\r\n\t\t\t\tthis.mappingAdditionalSetting(additionalSetting || null);\r\n\t\t\t\tthis.selectedZone = setting?.zone || ZoneEnum.LOCAL;\r\n\t\t\t\tthis._timeZoneManager.changeZone(this.selectedZone);\r\n\t\t\t\tif (!this.isServer && !this.config?.isLocalServer) {\r\n\t\t\t\t\tawait this.checkHostConnectivity();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis._isCheckHost$.next({\r\n\t\t\t\t\t\t...this._isCheckHost,\r\n\t\t\t\t\t\tstatus: true\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tthis.config.awPort = this.config.timeTrackerWindow ? this.config.awHost.split('t:')[1] : null;\r\n\t\t\t\tthis.serverConnectivity();\r\n\t\t\t\tthis._monitorsOption = { value: setting?.monitor?.captured };\r\n\t\t\t\tthis.screenshotNotification = setting?.screenshotNotification;\r\n\t\t\t\tthis.muted = setting?.mutedNotification;\r\n\t\t\t\tthis.autoLaunch = setting?.autoLaunch;\r\n\t\t\t\tthis.minimizeOnStartup = setting?.minimizeOnStartup;\r\n\t\t\t\tthis._automaticUpdate$.next(setting?.automaticUpdate);\r\n\t\t\t\tthis._automaticUpdateDelay$.next(setting?.automaticUpdateDelay);\r\n\t\t\t\tthis._prerelease$.next(setting?.prerelease);\r\n\t\t\t\tthis._updaterServer$ = new BehaviorSubject({\r\n\t\t\t\t\tgithub: setting?.cdnUpdater?.github == true,\r\n\t\t\t\t\tdigitalOcean: setting?.cdnUpdater?.digitalOcean == true,\r\n\t\t\t\t\tlocal: false\r\n\t\t\t\t});\r\n\t\t\t\tthis._simpleScreenshotNotification$.next(setting?.simpleScreenshotNotification);\r\n\t\t\t\tthis.selectedPeriod = setting?.timer?.updatePeriod;\r\n\t\t\t\tif (this.isDesktopTimer) {\r\n\t\t\t\t\tawait this.getUserDetails();\r\n\t\t\t\t}\r\n\t\t\t\tthis.menus = this.isServer\r\n\t\t\t\t\t? ['TIMER_TRACKER.SETTINGS.UPDATE', 'TIMER_TRACKER.SETTINGS.ADVANCED_SETTINGS', 'MENU.ABOUT']\r\n\t\t\t\t\t: [\r\n\t\t\t\t\t\t...(auth && auth.allowScreenshotCapture ? ['TIMER_TRACKER.SETTINGS.SCREEN_CAPTURE'] : []),\r\n\t\t\t\t\t\t'TIMER_TRACKER.TIMER',\r\n\t\t\t\t\t\t'TIMER_TRACKER.SETTINGS.UPDATE',\r\n\t\t\t\t\t\t'TIMER_TRACKER.SETTINGS.ADVANCED_SETTINGS',\r\n\t\t\t\t\t\t'MENU.ABOUT'\r\n\t\t\t\t\t];\r\n\t\t\t\tconst lastMenu =\r\n\t\t\t\t\tthis._selectedMenu && this.menus.includes(this._selectedMenu) ? this._selectedMenu : this.menus[0];\r\n\t\t\t\tthis._selectedMenu$.next(lastMenu);\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\tthis.electronService.ipcRenderer.on('app_setting_update', (event, arg) =>\r\n\t\t\tthis._ngZone.run(() => {\r\n\t\t\t\tconst { setting } = arg;\r\n\t\t\t\tthis.appSetting = setting;\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\tthis.electronService.ipcRenderer.on('update_not_available', () =>\r\n\t\t\tthis._ngZone.run(() => {\r\n\t\t\t\tthis._available$.next(false);\r\n\t\t\t\tthis.message = {\r\n\t\t\t\t\ttext: 'TIMER_TRACKER.SETTINGS.MESSAGES.UPDATE_NOT_AVAILABLE',\r\n\t\t\t\t\tstatus: 'basic'\r\n\t\t\t\t};\r\n\t\t\t\tthis.logContents = this._translateService.instant(this.message.text);\r\n\t\t\t\tthis.scrollToBottom();\r\n\t\t\t\tthis._loading$.next(false);\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\tthis.electronService.ipcRenderer.on('error_update', (event, arg) =>\r\n\t\t\tthis._ngZone.run(() => {\r\n\t\t\t\tthis._available$.next(false);\r\n\t\t\t\tthis.message = {\r\n\t\t\t\t\ttext: 'TIMER_TRACKER.SETTINGS.MESSAGES.UPDATE_ERROR',\r\n\t\t\t\t\tstatus: 'danger'\r\n\t\t\t\t};\r\n\t\t\t\tthis.logContents = this._translateService.instant(this.message.text);\r\n\t\t\t\tthis.logContents = `error message: ${arg}`;\r\n\t\t\t\tthis.scrollToBottom();\r\n\t\t\t\tthis._loading$.next(false);\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\tthis.electronService.ipcRenderer.on('update_available', () =>\r\n\t\t\tthis._ngZone.run(() => {\r\n\t\t\t\tthis._available$.next(true);\r\n\t\t\t\tthis._loading$.next(false);\r\n\t\t\t\tthis.message = {\r\n\t\t\t\t\ttext: 'TIMER_TRACKER.SETTINGS.MESSAGES.UPDATE_AVAILABLE',\r\n\t\t\t\t\tstatus: 'primary'\r\n\t\t\t\t};\r\n\t\t\t\tthis.logContents = this._translateService.instant(this.message.text);\r\n\t\t\t\tthis.scrollToBottom();\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\tthis.electronService.ipcRenderer.on('update_downloaded', () =>\r\n\t\t\tthis._ngZone.run(() => {\r\n\t\t\t\tthis._available$.next(true);\r\n\t\t\t\tthis.message = {\r\n\t\t\t\t\ttext: 'TIMER_TRACKER.SETTINGS.MESSAGES.UPDATE_DOWNLOAD_COMPLETED',\r\n\t\t\t\t\tstatus: 'success'\r\n\t\t\t\t};\r\n\t\t\t\tthis.logContents = this._translateService.instant(this.message.text);\r\n\t\t\t\tthis.scrollToBottom();\r\n\t\t\t\tthis.showProgressBar = false;\r\n\t\t\t\tthis.downloadFinish = true;\r\n\t\t\t\tthis._loading$.next(false);\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\tthis.electronService.ipcRenderer.on('download_on_progress', (event, arg) =>\r\n\t\t\tthis._ngZone.run(() => {\r\n\t\t\t\tthis._loading$.next(true);\r\n\t\t\t\tthis._available$.next(true);\r\n\t\t\t\tthis.showProgressBar = true;\r\n\t\t\t\tthis.message = {\r\n\t\t\t\t\ttext: 'TIMER_TRACKER.SETTINGS.MESSAGES.UPDATE_DOWNLOADING',\r\n\t\t\t\t\tstatus: 'warning'\r\n\t\t\t\t};\r\n\t\t\t\tthis.progressDownload = Math.floor(Number(arg.percent));\r\n\t\t\t\tthis.logContents = this._translateService.instant(\r\n\t\t\t\t\t'TIMER_TRACKER.SETTINGS.MESSAGES.DOWNLOADING_UPDATE',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcurrent: Math.floor(arg.transferred / 1000000),\r\n\t\t\t\t\t\ttotal: Math.floor(arg.total / 1000000),\r\n\t\t\t\t\t\tbandwidth: Math.floor(arg.bytesPerSecond / 1000),\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tthis.scrollToBottom();\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\tthis.electronService.ipcRenderer.on('goto_update', () =>\r\n\t\t\tthis._ngZone.run(() => {\r\n\t\t\t\tthis.selectMenu('TIMER_TRACKER.SETTINGS.UPDATE');\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\tthis.electronService.ipcRenderer.on('goto_top_menu', () =>\r\n\t\t\tthis._ngZone.run(() => {\r\n\t\t\t\tconst lastMenu =\r\n\t\t\t\t\tthis._selectedMenu && this.menus.includes(this._selectedMenu) ? this._selectedMenu : this.menus[0];\r\n\t\t\t\tthis.selectMenu(lastMenu);\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\tthis.electronService.ipcRenderer.on('goto_advanced_setting', () => {\r\n\t\t\tthis.selectMenu('TIMER_TRACKER.SETTINGS.ADVANCED_SETTINGS');\r\n\t\t});\r\n\r\n\t\tthis.electronService.ipcRenderer.on('logout_success', () =>\r\n\t\t\tthis._ngZone.run(() => {\r\n\t\t\t\tthis.currentUser$.next(null);\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\tthis.electronService.ipcRenderer.on('resp_msg', (event, arg) =>\r\n\t\t\tthis._ngZone.run(() => {\r\n\t\t\t\tthis.showAlert(arg);\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\tthis.electronService.ipcRenderer.on('server_status', (event, arg) =>\r\n\t\t\tthis._ngZone.run(() => {\r\n\t\t\t\tthis.serverIsRunning = arg;\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\tthis.electronService.ipcRenderer.on('update_files_directory', (event, arg) => {\r\n\t\t\tthis._ngZone.run(() => {\r\n\t\t\t\tthis._file$.next(arg);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis.electronService.ipcRenderer.on('show_about', () => {\r\n\t\t\tthis._ngZone.run(() => {\r\n\t\t\t\tthis._dialogService.open(AboutComponent);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis.electronService.ipcRenderer.on('database_status', (event, arg) => {\r\n\t\t\tthis._ngZone.run(() => {\r\n\t\t\t\tthis._isCheckDatabase$.next(false);\r\n\t\t\t\tthis._isConnectedDatabase$.next(arg);\r\n\t\t\t\tthis._isHidden$.next(false);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis.electronService.ipcRenderer.on('_logout_quit_install_', (event, arg) => {\r\n\t\t\tthis._ngZone.run(async () => {\r\n\t\t\t\tawait this.restartAndUpdate();\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis.electronService.ipcRenderer.on(\r\n\t\t\t'preferred_language_change',\r\n\t\t\t(event, language: LanguagesEnum) => {\r\n\t\t\t\tthis._ngZone.run(() => {\r\n\t\t\t\t\tthis._languageSelectorService.setLanguage(\r\n\t\t\t\t\t\tlanguage,\r\n\t\t\t\t\t\tthis._translateService\r\n\t\t\t\t\t);\r\n\t\t\t\t\tTimeTrackerDateManager.locale(language);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tfrom(this.electronService.ipcRenderer.invoke('PREFERRED_LANGUAGE'))\r\n\t\t\t.pipe(\r\n\t\t\t\ttap((language: LanguagesEnum) => {\r\n\t\t\t\t\tthis._languageSelectorService.setLanguage(\r\n\t\t\t\t\t\tlanguage,\r\n\t\t\t\t\t\tthis._translateService\r\n\t\t\t\t\t);\r\n\t\t\t\t\tTimeTrackerDateManager.locale(language);\r\n\t\t\t\t}),\r\n\t\t\t\tuntilDestroyed(this)\r\n\t\t\t)\r\n\t\t\t.subscribe();\r\n\t}\r\n\r\n\tmappingAdditionalSetting(values) {\r\n\t\tif (values) {\r\n\t\t\tthis.thirdPartyConfig.forEach((item) => {\r\n\t\t\t\titem.fields.forEach((itemField) => {\r\n\t\t\t\t\titemField.value = values[itemField.field];\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tselectMonitorOption(item) {\r\n\t\tthis._monitorsOption = item;\r\n\t\tthis.updateSetting({ captured: item?.value }, 'monitor');\r\n\t}\r\n\r\n\tprivate set _monitorsOption(item) {\r\n\t\tthis._monitorsOption$.next(\r\n\t\t\tthis._monitorsOption.map((x) => {\r\n\t\t\t\tif (x.value === item?.value) {\r\n\t\t\t\t\tx.accent = 'primary';\r\n\t\t\t\t\tx.status = 'primary';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tx.accent = 'basic';\r\n\t\t\t\t\tx.status = 'basic';\r\n\t\t\t\t}\r\n\t\t\t\treturn x;\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tselectMenu(menu) {\r\n\t\tthis._selectedMenu$.next(menu);\r\n\t}\r\n\r\n\tupdateSetting(value, type: string, showNotification = true) {\r\n\t\tthis.appSetting[type] = value;\r\n\t\tthis.electronService.ipcRenderer.send('update_app_setting', {\r\n\t\t\tvalues: this.appSetting\r\n\t\t});\r\n\t\tif (showNotification) {\r\n\t\t\tthis._notifier.success(\r\n\t\t\t\t'Update ' + type.replace(/([a-z])([A-Z])/g, '$1 $2').toLowerCase() + ' setting successfully'\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tselectPeriod(value) {\r\n\t\tthis.selectedPeriod = value;\r\n\t\tthis.updateSetting({ updatePeriod: value }, 'timer');\r\n\t}\r\n\r\n\tselectZone(value: ZoneEnum) {\r\n\t\tthis._timeZoneManager.changeZone(value);\r\n\t\tthis.updateSetting(value, 'zone');\r\n\t\tthis.electronService.ipcRenderer.send('refresh-timer');\r\n\t}\r\n\r\n\ttoggleNotificationChange(value) {\r\n\t\tconst isUpdateTwice = value && this.simpleScreenshotNotification;\r\n\t\tthis.updateSetting(value, 'screenshotNotification', !isUpdateTwice);\r\n\t\tthis.screenshotNotification = value;\r\n\t\tif (isUpdateTwice) {\r\n\t\t\tthis.updateSetting(false, 'simpleScreenshotNotification');\r\n\t\t\tthis._simpleScreenshotNotification$.next(false);\r\n\t\t}\r\n\t}\r\n\r\n\ttoggleSimpleNotificationChange(value) {\r\n\t\tconst isUpdateTwice = value && this.screenshotNotification;\r\n\t\tthis.updateSetting(value, 'simpleScreenshotNotification', !isUpdateTwice);\r\n\t\tthis._simpleScreenshotNotification$.next(value);\r\n\t\tif (isUpdateTwice) {\r\n\t\t\tthis.updateSetting(false, 'screenshotNotification');\r\n\t\t\tthis.screenshotNotification = false;\r\n\t\t}\r\n\t}\r\n\r\n\ttoggleNotificationSoundChange(value: boolean) {\r\n\t\tthis.updateSetting(!value, 'mutedNotification');\r\n\t\tthis.muted = !value;\r\n\t}\r\n\r\n\ttoggleAutoLaunch(value) {\r\n\t\tthis.updateSetting(value, 'autoLaunch');\r\n\t\tthis.electronService.ipcRenderer.send('launch_on_startup', {\r\n\t\t\tautoLaunch: value,\r\n\t\t\thidden: this.minimizeOnStartup\r\n\t\t});\r\n\t}\r\n\r\n\ttoggleMinimizeOnStartup(value) {\r\n\t\tthis.updateSetting(value, 'minimizeOnStartup');\r\n\t\tthis.electronService.ipcRenderer.send('minimize_on_startup', {\r\n\t\t\tautoLaunch: this.autoLaunch,\r\n\t\t\thidden: value\r\n\t\t});\r\n\t}\r\n\r\n\ttoggleAutoStartOnStartup(value: boolean) {\r\n\t\tthis.updateServerConfig(value, 'autoStart');\r\n\t}\r\n\r\n\ttoggleAutomaticUpdate(value) {\r\n\t\tthis._automaticUpdate$.next(value);\r\n\t\tthis.updateSetting(value, 'automaticUpdate');\r\n\t\tthis.electronService.ipcRenderer.send('automatic_update_setting', {\r\n\t\t\tisEnabled: value,\r\n\t\t\tdelay: this._automaticUpdateDelay$.getValue()\r\n\t\t});\r\n\t}\r\n\r\n\tselectAutomaticUpdateDelay(value) {\r\n\t\tthis._automaticUpdateDelay$.next(value);\r\n\t\tthis.updateSetting(value, 'automaticUpdateDelay');\r\n\t\tthis.electronService.ipcRenderer.send('automatic_update_setting', {\r\n\t\t\tisEnabled: this._automaticUpdate$.getValue(),\r\n\t\t\tdelay: value\r\n\t\t});\r\n\t}\r\n\r\n\ttogglePrerelease(value) {\r\n\t\tthis._prerelease$.next(value);\r\n\t\tthis.updateSetting(value, 'prerelease');\r\n\t}\r\n\r\n\ttoggleAlwaysOn(value: boolean) {\r\n\t\tthis.updateSetting(value, 'alwaysOn');\r\n\t\tthis.electronService.ipcRenderer.send(value ? 'show_ao' : 'hide_ao');\r\n\t}\r\n\r\n\tpublic async restartApp(): Promise<void> {\r\n\t\tthis._isRestart$.next(true);\r\n\t\tif (!this.isServer && !this.authSetting.isLogout) {\r\n\t\t\tawait firstValueFrom(this._authStrategy.logout());\r\n\t\t\tthis.currentUser$.next(null);\r\n\t\t\tlocalStorage.clear();\r\n\t\t}\r\n\t\tconst thConfig = {};\r\n\t\tthis.thirdPartyConfig.forEach((item) => {\r\n\t\t\titem.fields.forEach((itemField) => {\r\n\t\t\t\tthConfig[itemField.field] = itemField.value;\r\n\t\t\t});\r\n\t\t});\r\n\t\tconst newConfig: any = {\r\n\t\t\t...this.config\r\n\t\t};\r\n\t\tif (this.config.timeTrackerWindow) newConfig.awHost = `http://127.0.0.1:${this.config.awPort}`;\r\n\t\tthis.electronService.ipcRenderer.send('restart_app', newConfig);\r\n\t\tthis.electronService.ipcRenderer.send('save_additional_setting', thConfig);\r\n\t}\r\n\r\n\tportChange(val, type) {\r\n\t\tif (type === 'api') {\r\n\t\t\tif (['5621', '5622'].findIndex((item) => item === val.toString()) > -1) {\r\n\t\t\t\tthis._restartDisable$.next(true);\r\n\t\t\t} else {\r\n\t\t\t\tthis._restartDisable$.next(false);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (type === 'db') {\r\n\t\t\tconsole.log('Port change', val);\r\n\t\t\tthis._restartDisable$.next(true);\r\n\t\t\tthis._isHidden$.next(true);\r\n\t\t}\r\n\t}\r\n\r\n\tserverConnectivity() {\r\n\t\tswitch (true) {\r\n\t\t\tcase this.config.isLocalServer:\r\n\t\t\t\tthis.config.serverType = 'Integrated';\r\n\t\t\t\tbreak;\r\n\t\t\tcase !this.config.isLocalServer && this.config.serverUrl !== 'https://api.gauzy.co':\r\n\t\t\t\tthis.config.serverType = 'Custom';\r\n\t\t\t\tbreak;\r\n\t\t\tcase !this.config.isLocalServer && this.config.serverUrl === 'https://api.gauzy.co':\r\n\t\t\t\tthis.config.serverType = 'Live';\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic checkDatabaseConnectivity() {\r\n\t\tthis._isHidden$.next(false);\r\n\t\tthis._restartDisable$.next(true);\r\n\t\tthis._isCheckDatabase$.next(true);\r\n\t\tthis.electronService.ipcRenderer.send('check_database_connection', this.config);\r\n\t}\r\n\r\n\tcheckForUpdate() {\r\n\t\tthis._loading$.next(true);\r\n\t\tthis.logIsOpen = true;\r\n\t\tthis.electronService.ipcRenderer.send('check_for_update');\r\n\t}\r\n\r\n\tpublic async restartAndUpdate(): Promise<void> {\r\n\t\tawait this.logout(true);\r\n\t}\r\n\r\n\ttoggleAwView(value) {\r\n\t\tthis.updateSetting(value, 'visibleAwOption');\r\n\t\tthis.electronService.ipcRenderer.send('switch_aw_option', value);\r\n\t}\r\n\r\n\ttoggleRandomScreenshot(value) {\r\n\t\tthis.updateSetting(value, 'randomScreenshotTime');\r\n\t}\r\n\r\n\ttoggleWakatimeView(value) {\r\n\t\tthis.updateSetting(value, 'visibleWakatimeOption');\r\n\t\tthis.electronService.ipcRenderer.send('switch_aw_option', value);\r\n\t}\r\n\r\n\ttoggleTrackOnPcSleep(value) {\r\n\t\tthis.updateSetting(value, 'trackOnPcSleep');\r\n\t}\r\n\r\n\t/*\r\n\t * Get logged in user details\r\n\t */\r\n\tpublic async getUserDetails() {\r\n\t\tif (this.authSetting) {\r\n\t\t\ttry {\r\n\t\t\t\tif (this.authSetting.isLogout) {\r\n\t\t\t\t\tthis.currentUser$.next(null);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst user = await this.timeTrackerService.getUserDetail();\r\n\t\t\t\tthis.currentUser$.next(user);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log('User Detail error', error);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.currentUser$.next(null);\r\n\t\t}\r\n\t}\r\n\r\n\t/*\r\n\t * Logout desktop timer\r\n\t */\r\n\tpublic async logout(isAfterUpgrade?: boolean): Promise<void> {\r\n\t\tlet isLogout = true;\r\n\r\n\t\tif (this.appSetting?.timerStarted) {\r\n\t\t\tisLogout = await this.electronService.ipcRenderer.invoke(\r\n\t\t\t\t'LOGOUT_STOP'\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tlocalStorage.clear();\r\n\t\t}\r\n\r\n\t\tif (isLogout) {\r\n\t\t\tconsole.log('On Logout');\r\n\t\t\tthis.electronService.ipcRenderer.send(\r\n\t\t\t\t'logout_desktop',\r\n\t\t\t\tisAfterUpgrade\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tconsole.log('Logout Cancelled');\r\n\t\t}\r\n\t}\r\n\r\n\tonServerChange(val) {\r\n\t\tthis._restartDisable$.next(true);\r\n\t\tswitch (val) {\r\n\t\t\tcase this.serverTypes.integrated:\r\n\t\t\t\tthis.config.isLocalServer = true;\r\n\t\t\t\tthis.config.port = 3000;\r\n\t\t\t\tthis.config.serverUrl = null;\r\n\t\t\t\tbreak;\r\n\t\t\tcase this.serverTypes.custom:\r\n\t\t\t\tthis.config.isLocalServer = false;\r\n\t\t\t\tthis.config.serverUrl = 'http://127.0.0.1:3000';\r\n\t\t\t\tbreak;\r\n\t\t\tcase this.serverTypes.live:\r\n\t\t\t\tthis.config.isLocalServer = false;\r\n\t\t\t\tthis.config.serverUrl = 'https://api.gauzy.co';\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tonDriverChange(val) {\r\n\t\tthis._restartDisable$.next(true);\r\n\t\tthis._isHidden$.next(true);\r\n\t\tswitch (val) {\r\n\t\t\tcase 'sqlite':\r\n\t\t\t\tthis.config.db = 'sqlite';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'postgres':\r\n\t\t\t\tthis.config.db = 'postgres';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'mysql':\r\n\t\t\t\tthis.config.db = 'mysql';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'better-sqlite':\r\n\t\t\t\tthis.config.db = 'better-sqlite';\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tshowAlert(arg) {\r\n\t\tlet message = '';\r\n\t\tswitch (arg?.type) {\r\n\t\t\tcase 'update_config':\r\n\t\t\t\tmessage = arg?.message ?? arg?.message ?? 'TIMER_TRACKER.SETTINGS.MESSAGES.SERVER_CONFIG_UPDATED';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'start_server':\r\n\t\t\t\tthis._restartDisable$.next(false);\r\n\t\t\t\tmessage = 'TIMER_TRACKER.SETTINGS.MESSAGES.SERVER_RESTARTED';\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tthis.toastrService.show(this._translateService.instant(message), `Success`, { status: arg?.status });\r\n\t\tthis._isRestart$.next(false);\r\n\t}\r\n\r\n\tlogBoxChange(e) {\r\n\t\tif (e) {\r\n\t\t\tthis.logIsOpen = false;\r\n\t\t} else {\r\n\t\t\tthis.logIsOpen = true;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate scrollToBottom() {\r\n\t\tif (this.logIsOpen && this._logBox) {\r\n\t\t\tthis._logBox.nativeElement.scrollTop = this._logBox.nativeElement.scrollHeight;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic togglePreventDisplaySleep(event: boolean): void {\r\n\t\tthis.updateSetting(event, 'preventDisplaySleep');\r\n\t}\r\n\r\n\tpublic openLink() {\r\n\t\tconst url = 'https://gauzy.co';\r\n\t\tthis.electronService.shell.openExternal(url);\r\n\t}\r\n\r\n\tpublic get loading$() {\r\n\t\treturn this._loading$.asObservable();\r\n\t}\r\n\r\n\tpublic get available$() {\r\n\t\treturn this._available$.asObservable();\r\n\t}\r\n\r\n\tpublic get automaticUpdate$(): Observable<boolean> {\r\n\t\treturn this._automaticUpdate$.asObservable();\r\n\t}\r\n\r\n\tpublic get prerelease$(): Observable<boolean> {\r\n\t\treturn this._prerelease$.asObservable();\r\n\t}\r\n\r\n\tpublic downloadNow() {\r\n\t\tthis._loading$.next(true);\r\n\t\tthis.logIsOpen = true;\r\n\t\tthis.electronService.ipcRenderer.send('download_update');\r\n\t}\r\n\r\n\tpublic selectDirectory() {\r\n\t\tthis.electronService.ipcRenderer.send('update_locally');\r\n\t}\r\n\r\n\tpublic get updaterServer$(): Observable<any> {\r\n\t\treturn this._updaterServer$.asObservable();\r\n\t}\r\n\r\n\tpublic get file$(): Observable<any> {\r\n\t\treturn this._file$.asObservable();\r\n\t}\r\n\r\n\tpublic toggleGithubDefaultServer(event: boolean) {\r\n\t\tthis._updaterServer$.next({\r\n\t\t\tgithub: event,\r\n\t\t\tdigitalOcean: !event,\r\n\t\t\tlocal: false\r\n\t\t});\r\n\t\tthis.updateSetting(this._updaterServer$.getValue(), 'cdnUpdater');\r\n\t\tthis.electronService.ipcRenderer.send('change_update_strategy', this._updaterServer$.getValue());\r\n\t}\r\n\r\n\tpublic toggleDigitalOceanDefaultServer(event: boolean) {\r\n\t\tthis._updaterServer$.next({\r\n\t\t\tgithub: !event,\r\n\t\t\tdigitalOcean: event,\r\n\t\t\tlocal: false\r\n\t\t});\r\n\t\tthis.updateSetting(this._updaterServer$.getValue(), 'cdnUpdater');\r\n\t\tthis.electronService.ipcRenderer.send('change_update_strategy', this._updaterServer$.getValue());\r\n\t}\r\n\r\n\tpublic toggleLocalServer(event: boolean) {\r\n\t\tthis._file$.next({});\r\n\t\tthis._updaterServer$.next({\r\n\t\t\t...this._updaterServer$.getValue(),\r\n\t\t\tlocal: event\r\n\t\t});\r\n\t\tthis.electronService.ipcRenderer.send('change_update_strategy', this._updaterServer$.getValue());\r\n\t}\r\n\r\n\tpublic get isDesktopTimer(): boolean {\r\n\t\treturn this._environment.IS_DESKTOP_TIMER;\r\n\t}\r\n\r\n\tpublic get isDesktop(): boolean {\r\n\t\treturn this._environment.IS_DESKTOP;\r\n\t}\r\n\r\n\tpublic get isServer(): boolean {\r\n\t\treturn this._environment.IS_SERVER;\r\n\t}\r\n\r\n\tpublic get isServerApi(): boolean {\r\n\t\treturn this._environment.IS_SERVER_API;\r\n\t}\r\n\r\n\tpublic get selectedMenu$(): Observable<string> {\r\n\t\treturn this._selectedMenu$.asObservable();\r\n\t}\r\n\r\n\tpublic get _isConnectedDatabase(): { status: boolean; message: string } {\r\n\t\treturn this._isConnectedDatabase$.getValue();\r\n\t}\r\n\r\n\tpublic get isConnectedDatabase$(): Observable<{\r\n\t\tstatus: boolean;\r\n\t\tmessage: string;\r\n\t}> {\r\n\t\treturn this._isConnectedDatabase$.asObservable();\r\n\t}\r\n\r\n\tpublic get _isCheckDatabase(): boolean {\r\n\t\treturn this._isCheckDatabase$.getValue();\r\n\t}\r\n\r\n\tpublic get _isCheckHost(): {\r\n\t\tisLoading: boolean;\r\n\t\tisHidden: boolean;\r\n\t\tmessage: string;\r\n\t\tstatus: boolean;\r\n\t} {\r\n\t\treturn this._isCheckHost$.getValue();\r\n\t}\r\n\r\n\tpublic get isCheckHost$(): Observable<{\r\n\t\tisLoading: boolean;\r\n\t\tisHidden: boolean;\r\n\t\tmessage: string;\r\n\t\tstatus: boolean;\r\n\t}> {\r\n\t\treturn this._isCheckHost$.asObservable();\r\n\t}\r\n\r\n\tpublic get isCheckDatabase$(): Observable<boolean> {\r\n\t\treturn this._isCheckDatabase$.asObservable();\r\n\t}\r\n\r\n\tpublic get restartDisable$(): Observable<boolean> {\r\n\t\treturn this._restartDisable$.asObservable();\r\n\t}\r\n\r\n\tpublic get isHidden$(): Observable<boolean> {\r\n\t\treturn this._isHidden$.asObservable();\r\n\t}\r\n\r\n\tpublic onHide() {\r\n\t\tthis._isHidden$.next(true);\r\n\t}\r\n\r\n\tpublic onHideApi() {\r\n\t\tthis._isCheckHost$.next({\r\n\t\t\t...this._isCheckHost,\r\n\t\t\tisHidden: true\r\n\t\t});\r\n\t}\r\n\r\n\tpublic async checkHostConnectivity(): Promise<any> {\r\n\t\ttry {\r\n\t\t\tthis._isCheckHost$.next({\r\n\t\t\t\t...this._isCheckHost,\r\n\t\t\t\tisLoading: true\r\n\t\t\t});\r\n\t\t\tconst url = new URL(this.config.serverUrl);\r\n\t\t\tif (url.pathname.length > 1) {\r\n\t\t\t\tthis.config.serverUrl = url.origin;\r\n\t\t\t}\r\n\t\t\tconst isOk = await this._setupService.pingServer({\r\n\t\t\t\thost: url.origin\r\n\t\t\t});\r\n\t\t\tif (isOk) {\r\n\t\t\t\tthis._isCheckHost$.next({\r\n\t\t\t\t\tstatus: true,\r\n\t\t\t\t\tisHidden: false,\r\n\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\tmessage: 'TIMER_TRACKER.SETTINGS.MESSAGES.CONNECTION_SUCCEEDS'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tthis._isCheckHost$.next({\r\n\t\t\t\tstatus: false,\r\n\t\t\t\tisHidden: false,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tmessage: error.message\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tpublic onHostChange(host: string) {\r\n\t\tthis._restartDisable$.next(true);\r\n\t}\r\n\r\n\tprivate get _monitorsOption() {\r\n\t\treturn this._monitorsOption$.getValue();\r\n\t}\r\n\r\n\tpublic get monitorsOption$(): Observable<any> {\r\n\t\treturn this._monitorsOption$.asObservable();\r\n\t}\r\n\r\n\tpublic humanize(value: number): string {\r\n\t\treturn moment.duration(value, 'hours').humanize(false, {});\r\n\t}\r\n\r\n\tpublic get automaticUpdateDelay$(): Observable<number> {\r\n\t\treturn this._automaticUpdateDelay$.asObservable();\r\n\t}\r\n\r\n\tpublic get simpleScreenshotNotification$(): Observable<boolean> {\r\n\t\treturn this._simpleScreenshotNotification$.asObservable();\r\n\t}\r\n\r\n\tpublic get simpleScreenshotNotification(): boolean {\r\n\t\treturn this._simpleScreenshotNotification$.getValue();\r\n\t}\r\n\r\n\tpublic get isRestart$(): Observable<boolean> {\r\n\t\treturn this._isRestart$.asObservable();\r\n\t}\r\n\r\n\tpublic updateSslSetting(value) {\r\n\t\tthis.updateServerConfig(value, 'secureProxy');\r\n\t}\r\n\r\n\tpublic updateServerConfig(value, type: string, showNotification = true) {\r\n\t\tthis.config[type] = value;\r\n\t\tthis.electronService.ipcRenderer.send('update_server_config', this.config);\r\n\t\tif (showNotification) {\r\n\t\t\tthis._notifier.success(\r\n\t\t\t\t'Update ' + type.replace(/([a-z])([A-Z])/g, '$1 $2').toLowerCase() + ' setting successfully'\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n"]}