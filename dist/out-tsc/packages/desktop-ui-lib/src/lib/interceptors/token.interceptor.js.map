{"version":3,"file":"token.interceptor.js","sourceRoot":"","sources":["../../../../../../../packages/desktop-ui-lib/src/lib/interceptors/token.interceptor.ts"],"names":[],"mappings":";;;;AAAA,wCAA2C;AAQ3C,0CAAoC;AAG7B,IAAM,gBAAgB,8BAAtB,MAAM,gBAAgB;IAC5B,YAAoB,KAAY;QAAZ,UAAK,GAAL,KAAK,CAAO;IAAI,CAAC;IACrC,SAAS,CACR,OAAyB,EACzB,IAAiB;QAEjB,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;QAC/B,IAAI,KAAK,EAAE;YACV,OAAO,GAAG,OAAO,CAAC,KAAK,CAAC;gBACvB,UAAU,EAAE;oBACX,aAAa,EAAE,UAAU,KAAK,EAAE;iBAChC;aACD,CAAC,CAAC;SACH;QACD,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IAC7B,CAAC;CACD,CAAA;2BAhBY,gBAAgB;IAD5B,IAAA,iBAAU,GAAE;6CAEe,gBAAK;GADpB,gBAAgB,CAgB5B","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport {\r\n\tHttpRequest,\r\n\tHttpHandler,\r\n\tHttpEvent,\r\n\tHttpInterceptor\r\n} from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { Store } from '../services';\r\n\r\n@Injectable()\r\nexport class TokenInterceptor implements HttpInterceptor {\r\n\tconstructor(private store: Store) { }\r\n\tintercept(\r\n\t\trequest: HttpRequest<any>,\r\n\t\tnext: HttpHandler\r\n\t): Observable<HttpEvent<any>> {\r\n\t\tconst token = this.store.token;\r\n\t\tif (token) {\r\n\t\t\trequest = request.clone({\r\n\t\t\t\tsetHeaders: {\r\n\t\t\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn next.handle(request);\r\n\t}\r\n}\r\n"]}