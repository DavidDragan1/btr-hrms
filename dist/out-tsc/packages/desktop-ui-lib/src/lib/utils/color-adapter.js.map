{"version":3,"file":"color-adapter.js","sourceRoot":"","sources":["../../../../../../../packages/desktop-ui-lib/src/lib/utils/color-adapter.ts"],"names":[],"mappings":"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","sourcesContent":["import { Color, rgbString } from '@kurkle/color';\r\n\r\nexport class ColorAdapter {\r\n\tpublic static hex2Rgb(hex: string) {\r\n\t\thex = this.normalize(hex);\r\n\t\treturn rgbString({\r\n\t\t\tr: parseInt(hex.slice(1, 3), 16),\r\n\t\t\tg: parseInt(hex.slice(3, 5), 16),\r\n\t\t\tb: parseInt(hex.slice(5, 7), 16),\r\n\t\t\ta: 1\r\n\t\t});\r\n\t}\r\n\r\n\tpublic static normalize(hex: string): string {\r\n\t\tconst regex = /^#[0-9A-F]{6}$/i;\r\n\t\tif (regex.test(hex)) {\r\n\t\t\treturn hex;\r\n\t\t} else {\r\n\t\t\thex = '#' + hex;\r\n\t\t\treturn regex.test(hex) ? hex : '#000000';\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static contrast(bgColor: string) {\r\n\t\tlet color = new Color(bgColor);\r\n\t\tcolor = color.valid ? color : new Color(this.hex2Rgb(bgColor));\r\n\t\tconst MIN_THRESHOLD = 128;\r\n\t\tconst MAX_THRESHOLD = 186;\r\n\t\tconst contrast = color.rgb ? color.rgb.r * 0.299 + color.rgb.g * 0.587 + color.rgb.b * 0.114 : null;\r\n\t\tif (contrast < MIN_THRESHOLD) {\r\n\t\t\treturn '#ffffff';\r\n\t\t} else if (contrast > MAX_THRESHOLD) {\r\n\t\t\treturn '#000000';\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static background(bgColor: string) {\r\n\t\tconst color = new Color(bgColor);\r\n\t\treturn color.valid ? bgColor : this.normalize(bgColor);\r\n\t}\r\n\r\n\tpublic static hexToHsl(hexColor: string): string {\r\n\t\tlet color = new Color(hexColor);\r\n\t\tcolor = color.valid ? color : new Color(this.hex2Rgb(hexColor));\r\n\t\treturn color.hslString();\r\n\t}\r\n\r\n\tpublic static randomColor(): string {\r\n\t\tconst color = new Color({\r\n\t\t\tr: Math.floor(Math.random() * 256),\r\n\t\t\tg: Math.floor(Math.random() * 256),\r\n\t\t\tb: Math.floor(Math.random() * 256),\r\n\t\t\ta: 1\r\n\t\t});\r\n\t\treturn color.hexString().toString();\r\n\t}\r\n}\r\n"]}