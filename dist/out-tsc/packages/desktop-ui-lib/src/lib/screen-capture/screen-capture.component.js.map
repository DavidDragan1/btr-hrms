{"version":3,"file":"screen-capture.component.js","sourceRoot":"","sources":["../../../../../../../packages/desktop-ui-lib/src/lib/screen-capture/screen-capture.component.ts"],"names":[],"mappings":";;;;AAAA,wCAAkE;AAClE,+BAAmD;AACnD,gEAImC;AACnC,mDAAuD;AACvD,4CAAyC;AAOlC,IAAM,sBAAsB,oCAA5B,MAAM,sBAAsB;IAKlC,YACkB,eAAgC,EACzC,OAAe,EACf,YAA0B,EAEjB,YAAiB,EACjB,aAA2B;QAL3B,oBAAe,GAAf,eAAe,CAAiB;QACzC,YAAO,GAAP,OAAO,CAAQ;QACf,iBAAY,GAAZ,YAAY,CAAc;QAEjB,iBAAY,GAAZ,YAAY,CAAK;QACjB,kBAAa,GAAb,aAAa,CAAc;QAE5C,IAAI,CAAC,kBAAkB,GAAG,IAAI,sBAAe,CAAC,IAAI,CAAC,CAAC;IACrD,CAAC;IAED,QAAQ;QACP,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,EAAE,CAClC,2BAA2B,EAC3B,CAAC,KAAK,EAAE,GAAG,EAAE,EAAE;YACd,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE;gBACrB,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;gBACrB,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAC3B,IAAI,CAAC,YAAY,CAAC,sBAAsB,CAAC,GAAG,CAAC,MAAM,CAAC,CACpD,CAAC;YACH,CAAC,CAAC,CAAC;QACJ,CAAC,CACD,CAAC;IACH,CAAC;IAED,IAAW,iBAAiB;QAC3B,OAAO,IAAI,CAAC,kBAAkB,CAAC,YAAY,EAAE,CAAC;IAC/C,CAAC;IAED,IAAW,OAAO;QACjB,OAAO,IAAI,CAAC,aAAa,CAAC,8BAA8B,CACvD,IAAI,CAAC,YAAY,CAAC,0BAA0B,CAC5C,CAAC;IACH,CAAC;CACD,CAAA;iCAvCY,sBAAsB;IALlC,IAAA,gBAAS,EAAC;QACV,QAAQ,EAAE,oBAAoB;QAC9B,WAAW,EAAE,iCAAiC;QAC9C,SAAS,EAAE,CAAC,iCAAiC,CAAC;KAC9C,CAAC;IAUC,mBAAA,IAAA,aAAM,EAAC,qBAAS,CAAC,CAAA;6CAHgB,0BAAe;QAChC,aAAM;QACD,+BAAY,UAGF,+BAAY;GAXjC,sBAAsB,CAuClC","sourcesContent":["import { Component, OnInit, NgZone, Inject } from '@angular/core';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport {\r\n\tDomSanitizer,\r\n\tSafeResourceUrl,\r\n\tSafeUrl,\r\n} from '@angular/platform-browser';\r\nimport { ElectronService } from '../electron/services';\r\nimport { GAUZY_ENV } from '../constants';\r\n\r\n@Component({\r\n\tselector: 'ngx-screen-capture',\r\n\ttemplateUrl: './screen-capture.component.html',\r\n\tstyleUrls: ['./screen-capture.component.scss'],\r\n})\r\nexport class ScreenCaptureComponent implements OnInit {\r\n\tprivate _screenCaptureUrl$: BehaviorSubject<SafeUrl>;\r\n\tscreenCaptureUrl: SafeUrl;\r\n\tnote: string;\r\n\r\n\tconstructor(\r\n\t\tprivate readonly electronService: ElectronService,\r\n\t\tprivate _ngZone: NgZone,\r\n\t\tprivate domSanitizer: DomSanitizer,\r\n\t\t@Inject(GAUZY_ENV)\r\n\t\tprivate readonly _environment: any,\r\n\t\tprivate readonly _domSanitizer: DomSanitizer\r\n\t) {\r\n\t\tthis._screenCaptureUrl$ = new BehaviorSubject(null);\r\n\t}\r\n\r\n\tngOnInit(): void {\r\n\t\tthis.electronService.ipcRenderer.on(\r\n\t\t\t'show_popup_screen_capture',\r\n\t\t\t(event, arg) => {\r\n\t\t\t\tthis._ngZone.run(() => {\r\n\t\t\t\t\tthis.note = arg.note;\r\n\t\t\t\t\tthis._screenCaptureUrl$.next(\r\n\t\t\t\t\t\tthis.domSanitizer.bypassSecurityTrustUrl(arg.imgUrl)\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tpublic get screenCaptureUrl$(): Observable<SafeUrl> {\r\n\t\treturn this._screenCaptureUrl$.asObservable();\r\n\t}\r\n\r\n\tpublic get logoUrl(): SafeResourceUrl {\r\n\t\treturn this._domSanitizer.bypassSecurityTrustResourceUrl(\r\n\t\t\tthis._environment.GAUZY_DESKTOP_LOGO_512X512\r\n\t\t);\r\n\t}\r\n}\r\n"]}